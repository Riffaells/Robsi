/*
Robsi Theme - A modern theme for Obsidian.
By Riffaells - 2024
Built: 2025-07-11T22:50:33.686563
Files included: 24
*/

/* variables.css */
/* ========================================================================== */
/*                                VARIABLES                                   */
/* ========================================================================== */

/* Root fonts and basic variables */
:root {
  --font-family-theme: 'Inter', system-ui, -apple-system, sans-serif;
  --font-family-monospace: 'JetBrains Mono', 'Fira Code', 'SF Mono', Consolas, monospace;
  --font-size-theme: 16px;
  --line-height-theme: 1.6;
}

/* Common variables for both themes */
.theme-dark,
.theme-light {
  /* ======================================================================== */
  /*                               TYPOGRAPHY                                */
  /* ======================================================================== */

  --font-text-size: var(--font-size-theme);
  --line-height-normal: var(--line-height-theme);

  /* ======================================================================== */
  /*                                BORDERS                                  */
  /* ======================================================================== */

  --border-width: 1px;
  --border-radius: 8px;
  --radius-s: 6px;
  --radius-m: 8px;
  --radius-l: 12px;
  --radius-xl: 16px;

  /* ======================================================================== */
  /*                                SPACING                                  */
  /* ======================================================================== */

  --size-2-1: 2px;
  --size-2-2: 4px;
  --size-2-3: 6px;
  --size-4-1: 8px;
  --size-4-2: 12px;
  --size-4-3: 16px;
  --size-4-4: 20px;
  --size-4-5: 24px;
  --size-4-6: 28px;

  /* ======================================================================== */
  /*                              TRANSITIONS                                */
  /* ======================================================================== */

  --motion-duration-fast: 0.15s;
  --motion-duration-medium: 0.25s;
  --motion-duration-slow: 0.35s;
  --motion-easing-standard: cubic-bezier(0.4, 0, 0.2, 1);
  --motion-easing-decelerate: cubic-bezier(0.0, 0, 0.2, 1);
  --motion-easing-accelerate: cubic-bezier(0.4, 0, 1, 1);

  /* ======================================================================== */
  /*                               SHADOWS                                   */
  /* ======================================================================== */

  --shadow-s: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);
  --shadow-m: 0 3px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.12);
  --shadow-l: 0 10px 20px rgba(0, 0, 0, 0.15), 0 3px 6px rgba(0, 0, 0, 0.10);
  --shadow-xl: 0 15px 25px rgba(0, 0, 0, 0.15), 0 5px 10px rgba(0, 0, 0, 0.05);

  /* ======================================================================== */
  /*                               CALLOUTS                                  */
  /* ======================================================================== */

  --callout-radius: var(--radius-m);
  --callout-padding: 8px;
  --callout-title-padding: 0;
  --callout-content-padding: 0;

  /* ======================================================================== */
  /*                                 LISTS                                   */
  /* ======================================================================== */

  --list-marker-color: var(--magenta);
  --list-marker-color-hover: var(--magenta-light);
  --list-marker-color-collapsed: var(--text-muted);
  --list-number-color: var(--magenta);
  --list-number-color-hover: var(--magenta-light);
  --list-indent: 1.5em;
  --list-spacing: 0;

  /* ======================================================================== */
  /*                              CHECKBOXES                                 */
  /* ======================================================================== */

  --checkbox-radius: var(--radius-s);
  --checkbox-size: 16px;
  --checkbox-marker-color: var(--text-on-accent);

  /* ======================================================================== */
  /*                               TABLES                                    */
  /* ======================================================================== */

  --table-border-width: 1px;
  --table-border-color: var(--border-color);
  --table-header-background: var(--background-secondary);
  --table-header-background-hover: var(--background-secondary-alt);

  /* ======================================================================== */
  /*                              WORKSPACE                                  */
  /* ======================================================================== */

  --tab-radius: var(--radius-m);
  --tab-outline-width: 2px;
  --titlebar-height: 40px;
  --tab-width: 120px;
  --tab-min-width: 80px;
  --tab-max-width: 200px;
  --tab-text-color-focused-active: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.8);
  --tab-text-color-focused-active-current: hsl(var(--accent-h), var(--accent-s), var(--accent-l));

  /* Tab background variables */
  --tab-container-background: var(--background-primary);
  --tab-background: var(--bg_dark2);
  --tab-background-active: var(--bg_highlight_dark);
  --tab-background-hover: var(--bg_highlight_dark);
  --workspace-background-translucent: rgba(var(--bg_dark2_x), 0.9);
  --titlebar-background-focused: var(--bg_highlight_dark);
  --frame-right-space: 80px;
  /* ======================================================================== */
  /*                              FILE MARGINS                               */
  /* ======================================================================== */

  --file-margins: clamp(5px, 4vw, 20px);

  --color_red_rgb: var(--red_x);
  --color-red: var(--red);
  --color_purple_rgb: var(--magenta_x);
  --color-purple: var(--magenta);
  --color_green_rgb: var(--green_x);
  --color-green: var(--green);
  --color_cyan_rgb: var(--cyan_x);
  --color-cyan: var(--cyan);
  --color_blue_rgb: var(--blue_x);
  --color-blue: var(--blue);
  --color_yellow_rgb: var(--yellow_x);
  --color-yellow: var(--yellow);
  --color_orange_rgb: var(--orange_x);
  --color-orange: var(--orange);
  --color_pink_rgb: var(--magenta_x);
  --color-pink: var(--magenta);

  --background-primary: var(--bg);
  --background-primary-alt: var(--bg);
  --background-secondary: var(--bg_dark);
  --background-secondary-alt: var(--bg_dark);

  --background-modifier-border: var(--bg_highlight);
  --background-modifier-border-focus: var(--bg_highlight);
  --background-modifier-border-hover: var(--bg_highlight);
  --background-modifier-form-field: var(--bg_dark);
  --background-modifier-form-field-highlighted: var(--bg_dark);
  --background-modifier-box-shadow: rgba(0, 0, 0, 0.3);
  --background-modifier-success: var(--green);
  --background-modifier-error: var(--red1);
  --background-modifier-error-hover: var(--red);
  --background-modifier-cover: rgba(var(--bg_dark_x), 0.8);
  --background-modifier-hover: var(--bg_highlight);
  --background-modifier-message: rgba(var(--bg_highlight_x), 0.9);
  --background-modifier-active-hover: var(--bg_highlight);

  --text-normal: var(--fg);
  --text-faint: var(--fg_dark);
  --text-muted: var(--fg_dark);
  --text-muted-rgb: var(--fg_dark_x);
  --text-error: var(--red);
  --text-accent: var(--magenta);
  --text-accent-hover: var(--cyan);
  --text-error: var(--red1);
  --text-error-hover: var(--red);
  --text-on-accent: var(--bg);
  --text-highlight-bg: rgba(var(--orange_x), 0.25);
  --text-selection: rgba(var(--purple_x), 0.15);
  --bold-color: var(--cyan);
  --italic-color: var(--blue);

  /* RGB versions for rgba() usage */
  --magenta-rgb: var(--magenta_x);
  --magenta-light-rgb: var(--magenta-light_x);

  /* Background RGB variables for blur effects */
  --background-primary-rgb: var(--bg_x);
  --background-secondary-rgb: var(--bg_dark_x);
  --background-modifier-hover-rgb: var(--bg_highlight_x);
  --menu-background-rgb: var(--bg_dark_x);

  --interactive-normal: var(--bg_dark);
  --interactive-hover: var(--bg);
  --interactive-success: var(--green);
  --interactive-accent: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
  --interactive-accent-hover: var(--blue);
  --accent-color: hsl(var(--accent-h), var(--accent-s), var(--accent-l));

  --scrollbar-bg: var(--bg_dark2);
  --scrollbar-thumb-bg: var(--comment);
  --scrollbar-active-thumb-bg: var(--bg_dark);
  --scrollbar-width: 0px;

  --h1-color: var(--red);
  --h2-color: var(--magenta);
  --h3-color: var(--green);
  --h4-color: var(--cyan);
  --h5-color: var(--blue);
  --h6-color: var(--yellow);

  --tag-color: var(--magenta);
  --tag-background: rgba(var(--magenta_x), 0.15);
  --tag-color-hover: var(--cyan);
  --tag-background-hover: rgba(var(--cyan_x), 0.15);

  --link-color: var(--magenta);
  --link-color-hover: var(--cyan);
  --link-external-color: var(--magenta);
  --link-external-color-hover: var(--cyan);

  --checkbox-color: var(--green);
  --checkbox-color-hover: var(--green);
  --checkbox-border-color: var(--comment);
  --checkbox-border-color-hover: var(--comment);

  --table-header-background: var(--bg_dark2);
  --table-header-background-hover: var(--bg_dark2);

  --flashing-background: rgba(var(--blue0_x), 0.3);

  --code-normal: var(--fg);
  --code-background: var(--bg_highlight_dark);
  --code-comment: var(--code-comment);

  --mermaid-note: var(--blue0);
  --mermaid-actor: var(--fg_dark);
  --mermaid-loopline: var(--blue);

  --blockquote-background-color: var(--bg_dark);
  --callout-default: var(--blue_x);
  --callout-info: var(--blue_x);
  --callout-summary: var(--cyan_x);
  --callout-tip: var(--cyan_x);
  --callout-todo: var(--cyan_x);
  --callout-bug: var(--red_x);
  --callout-error: var(--red1_x);
  --callout-fail: var(--red1_x);
  --callout-example: var(--magenta_x);
  --callout-important: var(--green_x);
  --callout-success: var(--teal_x);
  --callout-question: var(--yellow_x);
  --callout-warning: var(--orange_x);
  --callout-quote: var(--fg_dark_x);

  --icon-color-hover: var(--blue);
  --icon-color-focused: var(--magenta);
  --icon-color-active: var(--magenta);

  --nav-item-color: rgba(255, 255, 255, 0.9);
  --nav-item-color-hover: var(--fg);
  --nav-item-background-hover: var(--bg_highlight);
  --nav-item-color-active: var(--red);
  --nav-item-background-active: var(--bg_highlight);
  --nav-file-tag: rgba(var(--yellow_x), 0.9);
  --nav-indentation-guide-color: var(--bg_highlight);


  --indentation-guide-color: var(--comment);
  --indentation-guide-color-active: var(--comment);

  --graph-line: var(--comment);
  --graph-node: var(--fg);
  --graph-node-tag: var(--orange);
  --graph-node-attachment: var(--blue);

  --modal-border-color: var(--bg_highlight);
  --prompt-border-color: var(--bg_highlight);
  --slider-track-background: var(--bg_highlight);

  --embed-background: var(--bg_dark);
  --embed-padding: 1.5rem 1.5rem 0.5rem;

  --canvas-color: var(--bg_highlight_x);

  --toggle-thumb-color: var(--bg);

  --image-radius: 0px;

  --date-color: var(--blue);
  --date-background-color: var(--bg_highlight);

  /* Blockquote colors */
  --blockquote-color: var(--fg_dark);
  --blockquote-bg: rgba(var(--cyan_x), 0.08);
  --blockquote-border: var(--cyan);
  --blockquote-accent: var(--magenta);
  --blockquote-quote-mark: rgba(var(--cyan_x), 0.4);
}


/* ================================================= */

/* base.css */
body {
  /* Typography */
  --line-height-normal: 1.6;
  --line-height-theme: 1.6;

  /* Links */
  --link-decoration: underline;
  --link-unresolved-decoration-style: dotted;
  --link-unresolved-decoration-color: var(----link-unresolved-color);

  /* Lists */
  --checkbox-marker-color: var(--background-secondary);

  /* Blockquotes */
  --blockquote-border-color: var(--text-muted);
  --blockquote-color: var(--text-muted);

  /* Inline Code */
  --code-background: rgba(var(--mono-rgb-100), 0.05);

  /* Workspace & Modal Backgrounds */
  --workspace-background-translucent: rgba(
    var(--mono-rgb-0),
    var(--background-opacity, 0.5)
  );
  --modal-background: var(--background-secondary);
  --titlebar-background-focused: var(--background-primary);

  /* Dividers */
  --divider-color: transparent !important;
}

@media (min-width: 769px) {
  :not(.mod-windows).theme-dark {
    --background-primary: transparent;
  }
}


/* ================================================= */

/* components\animation-overrides.css */
/* ========================================================================== */
/*                           ANIMATION OVERRIDES                             */
/* ========================================================================== */

/* Critical animation overrides - remove unwanted default animations */

/* Remove hover transforms from interactive elements */
.mod-cta:hover,
button:hover,
.clickable-icon:hover,
.nav-action-button:hover,
.tree-item-self:hover,
.workspace-tab-header:hover,
.suggestion-item:hover,
.menu-item:hover {
  transform: none !important;
}

/* Enhanced button hover effects */
.mod-cta:hover {
  box-shadow: 0 4px 16px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.4);
}

/* Remove transforms from button active states */
.mod-cta:active {
  transform: none !important;
  box-shadow: 0 2px 8px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
}

/* ========================================================================== */
/*                         MOBILE-SPECIFIC OVERRIDES                        */
/* ========================================================================== */

/* Mobile performance overrides */
@media (max-width: 768px) {


  /* Remove pseudo-element animations */
  .mod-cta::before,
  button::before {
    display: none !important;
  }

  /* Disable expensive effects */
  .mod-cta:hover,
  .workspace-leaf:hover {
    box-shadow: none !important;
    transform: none !important;
  }

  /* Disable ANY layout-shifting animations */
  .workspace-leaf-content,
  .markdown-preview-view,
  .markdown-source-view,
  .cm-scroller,
  .workspace-leaf,
  .workspace-tabs,
  .workspace-tab-header-container,
  .view-header-title-container,
  .suggestion-container,
  .menu,
  .modal,
  .popover {
    transform: none !important;
    animation: none !important;
    transition: none !important;
    will-change: auto !important;
  }

  /* Disable scale/zoom animations that can trigger scrolling */
  .clickable-icon,
  .nav-file-title,
  .nav-folder-title,
  .tree-item-inner,
  .menu-item,
  .suggestion-item,
  .workspace-tab-header {
    transform: none !important;
    animation: none !important;
    transition: none !important;
    scale: none !important;
  }
}

/* ========================================================================== */
/*                         ACCESSIBILITY OVERRIDES                          */
/* ========================================================================== */

/* Disable animations for users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {

  /* Keep essential transitions */
  .menu-item:hover,
  .suggestion-item:hover,
  .clickable-icon:hover {
    transition: background-color 0.1s ease !important;
  }
}

/* ========================================================================== */
/*                        PERFORMANCE CRITICAL OVERRIDES                    */
/* ========================================================================== */

/* Remove expensive animations that cause layout thrashing */
.workspace-split.mod-vertical .workspace-leaf,
.workspace-split.mod-horizontal .workspace-leaf {
  transform: none !important;
  transition: opacity 0.1s ease;
}

/* Override backdrop-filter animations on low-end devices */
@media (max-width: 480px) and (max-resolution: 150dpi) {
  .modal,
  .popover,
  .suggestion-container,
  .menu {
    backdrop-filter: none !important;
    background: var(--background-secondary) !important;
  }
}


/* ================================================= */

/* components\checkboxes-toggles.css */
/* ===== CHECKBOXES & TOGGLES - SIMPLIFIED ===== */

/* Setting items with toggle functionality */
.setting-item.mod-toggle {
    display: flex;
    align-items: center;
    justify-content: space-between;
    position: relative;
}

/* Setting item info section */
.setting-item-info {
    padding-right: 12px;
    min-width: 0;
}

.setting-item-name {
    font-size: 13px;
    font-weight: 500;
    color: var(--text-normal);
    margin-bottom: 2px;
    line-height: 1.3;
}

.setting-item-description {
    font-size: 11px;
    color: var(--text-muted);
    line-height: 1.3;
}

.setting-item-description > div {
    margin-bottom: 1px;
}

.setting-item-description > div:last-child {
    margin-bottom: 0;
}

/* Setting item control section */
.setting-item-control {
    display: flex;
    align-items: center;
    gap: 6px;
    flex-shrink: 0;
}

/* Extra setting buttons */
.extra-setting-button {
    width: 32px;
    height: 32px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    transition: opacity 0.15s ease;
}

.extra-setting-button:hover {
    opacity: 1;
}

.extra-setting-button .svg-icon {
    width: 16px;
    height: 16px;
}

/* Checkbox container - simplified */
.checkbox-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 32px;
    height: 24px;
    flex-shrink: 0;
}

/* Checkbox input styling - simplified */
.checkbox-container input[type="checkbox"] {
    appearance: none;
    width: 44px;
    height: 20px;
    border-radius: 10px;
    background-color: var(--background-modifier-border);
    cursor: pointer;
    transition: background-color 0.15s ease;
    position: relative;
    outline: none;
    flex-shrink: 0;
}

.checkbox-container input[type="checkbox"]:focus {
    box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}

/* Checkbox slider - simplified */
.checkbox-container input[type="checkbox"]::before {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background-color: var(--background-primary);
    top: 2px;
    left: 2px;
    transition: transform 0.15s ease;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

/* Enabled state - simplified */
.checkbox-container.is-enabled input[type="checkbox"],
.checkbox-container input[type="checkbox"]:checked {
    background-color: var(--interactive-accent);
}

.checkbox-container.is-enabled input[type="checkbox"]::before,
.checkbox-container input[type="checkbox"]:checked::before {
    transform: translateX(20px);
    background-color: var(--text-on-accent);
}

/* Disabled state */
.checkbox-container input[type="checkbox"]:disabled {
    opacity: 0.38;
    cursor: not-allowed;
}

.checkbox-container input[type="checkbox"]:disabled::before {
    cursor: not-allowed;
}

/* Installed plugins */
.installed-plugins-container .setting-item.mod-toggle {
    border-radius: 6px;
    padding: 8px 12px;
    margin-bottom: 4px;
}


/* ========================================================================== */
/*                         ACCESSIBILITY IMPROVEMENTS                        */
/* ========================================================================== */

/* High contrast mode */
@media (prefers-contrast: high) {
    .checkbox-container input[type="checkbox"] {
        border: 2px solid var(--text-muted);
    }

    .checkbox-container input[type="checkbox"]:checked {
        border: 2px solid var(--interactive-accent);
    }

    .checkbox-container input[type="checkbox"]::before {
        border: 1px solid var(--text-muted);
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .checkbox-container input[type="checkbox"],
    .checkbox-container input[type="checkbox"]::before,
    .setting-item.mod-toggle,
    .extra-setting-button {
        transition: none !important;
        animation: none !important;
    }
}

/* ========================================================================== */
/*                        PERFORMANCE OPTIMIZATIONS                          */
/* ========================================================================== */

/* Optimize animations for mobile */
@media (max-width: 768px) {
    .checkbox-container input[type="checkbox"],
    .checkbox-container input[type="checkbox"]::before {
        transition-duration: 0.15s;
    }

    .setting-item.mod-toggle::before,
    .extra-setting-button::before {
        transition-duration: 0.1s;
    }
}

/* Remove complex animations on low-end devices */
@media (max-width: 480px) and (max-resolution: 150dpi) {
    .setting-item.mod-toggle::before,
    .extra-setting-button::before {
        display: none;
    }

    .checkbox-container input[type="checkbox"],
    .checkbox-container input[type="checkbox"]::before {
        transition: none;
    }
}

/* ========================================================================== */
/*                           LEGACY SIZE CLASSES                             */
/* ========================================================================== */

/* Small size toggles */
.checkbox-container.size-small {
    min-width: 40px;
    height: 20px;
}

.checkbox-container.size-small input[type="checkbox"] {
    width: 36px;
    height: 20px;
    border-radius: 10px;
}

.checkbox-container.size-small input[type="checkbox"]::before {
    width: 16px;
    height: 16px;
    top: 2px;
    left: 2px;
}

.checkbox-container.size-small input[type="checkbox"]:checked::before {
    transform: translateX(16px);
}

/* Medium size (default) */
.checkbox-container.size-medium {
    min-width: 48px;
    height: 24px;
}

.checkbox-container.size-medium input[type="checkbox"] {
    width: 44px;
    height: 24px;
    border-radius: 12px;
}

.checkbox-container.size-medium input[type="checkbox"]::before {
    width: 20px;
    height: 20px;
    top: 2px;
    left: 2px;
}

.checkbox-container.size-medium input[type="checkbox"]:checked::before {
    transform: translateX(20px);
}

/* Large size toggles */
.checkbox-container.size-large {
    min-width: 54px;
    height: 28px;
}

.checkbox-container.size-large input[type="checkbox"] {
    width: 50px;
    height: 28px;
    border-radius: 14px;
}

.checkbox-container.size-large input[type="checkbox"]::before {
    width: 24px;
    height: 24px;
    top: 2px;
    left: 2px;
}

.checkbox-container.size-large input[type="checkbox"]:checked::before {
    transform: translateX(22px);
}

/* ========================================================================== */
/*                           ENHANCED TYPOGRAPHY                             */
/* ========================================================================== */

/* Material Design 3 typography improvements */
.setting-item-name {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', system-ui, sans-serif;
    font-weight: 500;
}

.setting-item-description {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', system-ui, sans-serif;
    font-weight: 400;
}


/* ================================================= */

/* components\editor.css */
body:not(.heading-indicator-off) .markdown-rendered>:is(h1, h2, h3, h4, h5, h6),
body:not(.heading-indicator-off) .markdown-preview-sizer>div>:is(h1, h2, h3, h4, h5, h6) {
  position: relative;
}

body.h1-divider-on :is(.markdown-preview-sizer>div>h1, .markdown-rendered>h1, .HyperMD-header-1)::after {
  content: "";
  position: absolute;
  height: 2px;
  width: 100%;
  right: 0px;
  opacity: 0.5;
  bottom: 0;
  background: linear-gradient(to left, var(--h1-color) 30%, transparent 70%);
}

body.h2-divider-on :is(.markdown-preview-sizer>div>h2, .markdown-rendered>h2, .HyperMD-header-2)::after {
  content: "";
  position: absolute;
  height: 2px;
  width: 100%;
  right: 0px;
  opacity: 0.5;
  bottom: 0;
  background: linear-gradient(to left, var(--h2-color) 30%, transparent 70%);
}

body.h3-divider-on :is(.markdown-preview-sizer>div>h3, .markdown-rendered>h3, .HyperMD-header-3)::after {
  content: "";
  position: absolute;
  height: 2px;
  width: 100%;
  right: 0px;
  opacity: 0.5;
  bottom: 0;
  background: linear-gradient(to left, var(--h3-color) 30%, transparent 70%);
}

body.h4-divider-on :is(.markdown-preview-sizer>div>h4, .markdown-rendered>h4, .HyperMD-header-4)::after {
  content: "";
  position: absolute;
  height: 2px;
  width: 100%;
  right: 0px;
  opacity: 0.5;
  bottom: 0;
  background: linear-gradient(to left, var(--h4-color) 30%, transparent 70%);
}

body.h5-divider-on :is(.markdown-preview-sizer>div>h5, .markdown-rendered>h5, .HyperMD-header-5)::after {
  content: "";
  position: absolute;
  height: 2px;
  width: 100%;
  right: 0px;
  opacity: 0.5;
  bottom: 0;
  background: linear-gradient(to left, var(--h5-color) 30%, transparent 70%);
}

body.h6-divider-on :is(.markdown-preview-sizer>div>h6, .markdown-rendered>h6, .HyperMD-header-6)::after {
  content: "";
  position: absolute;
  height: 2px;
  width: 100%;
  right: 0px;
  opacity: 0.5;
  bottom: 0;
  background: linear-gradient(to left, var(--h6-color) 30%, transparent 70%);
}

/* links */

.cm-url {
  filter: none !important;
}

.cm-string.cm-url.external-link {
  filter: var(--link-external-filter) !important;
}

a.external-link {
  filter: none;
  background-image: unset;
  padding-right: 0;
}

a.external-link::after {
  content: url(public/images/874d8b8e340f75575caa.svg);
  filter: var(--link-external-filter);
  padding-left: 2.5px;
  bottom: -1px;
  position: relative;
}

.markdown-source-view.mod-cm6 .cm-link .cm-underline,
.markdown-source-view.mod-cm6 .cm-url .cm-underline {
    color: var(--link-external-color);
    border-bottom: 1px solid var(--link-external-color);
    text-decoration-line: none;
}
@media (hover: hover) {
    .markdown-source-view.mod-cm6 .cm-link .cm-underline:hover, .markdown-source-view.mod-cm6 .cm-url .cm-underline:hover {
        color: var(--link-external-color-hover);
        border-bottom: 1px solid var(--link-external-decoration-hover);
        text-decoration-line: none;
    }
}

/* Images  */

.image-embed {
  border-radius: var(--image-radius);
}

body {
  --table-width: 88cqw;
}

.theme-dark,
.theme-light .markdown-rendered thead tr {
  background: var(--table-header-background);
}

body:not(.table-width-obsidian-default) .markdown-source-view.mod-cm6 .cm-table-widget .table-wrapper,
body:not(.table-width-obsidian-default) :is(.markdown-rendered, .markdown-source-view.mod-cm6.is-live-preview) table {
  width: 100% !important;
}

.table-width-customized .markdown-source-view.mod-cm6.is-live-preview .cm-content>.cm-table-widget,
.table-width-customized .markdown-rendered table {
  overflow: auto;
  width: var(--table-width) !important;
  margin-left: calc((var(--table-width) - 100%) / -2) !important;
}

/* callouts */
.callout[data-callout="quote"] {
  background-color: rgba(var(--bg_highlight_dark_x), 0.5);
}

.callout[data-callout="cite"] {
  --callout-color: var(--pink_x);
  background-color: rgba(var(--pink_x), 0.15);
}

.callout-style-1.theme-light {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.25;
  --callout-padding: 0;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #FFFFFFBF;
  --callout-content-radius: 0px;
}

.callout-style-1.theme-dark {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.025;
  --callout-padding: 0;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #00000040;
  --callout-content-radius: 0px;
}

.callout-style-2.theme-light {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.25;
  --callout-padding: 0 6px 6px;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #FFFFFFBF;
  --callout-content-radius: 4px;
}

.callout-style-2.theme-dark {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.25;
  --callout-padding: 0 6px 6px;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #00000040;
  --callout-content-radius: 4px;
}

.callout-style-3:is(.theme-light, .theme-dark) {
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: var(--size-4-3) var(--size-4-3) var(--size-4-3) var(--size-4-6);
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 0;
  --callout-title-size: inherit;
  --callout-content-padding: 0;
  --callout-content-background: transparent;
  --callout-content-radius: 0px;
}

.callout-style-4.theme-light {
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: 0;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #FFFFFFBF;
  --callout-content-radius: 0px;
}

.callout-style-4.theme-dark {
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: 0;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #00000040;
  --callout-content-radius: 0px;
}

.ͼ2 .cm-panels-bottom {
  border-top: var(--border-width) solid var(--bg_highlight);
}

.cm-vim-message {
  color: var(--red);
}

mjx-math {
  font-size: 110% !important;
}

.cm-atom {
  color: var(--blue);
}

span.cm-hmd-frontmatter.cm-meta {
  color: rgba(var(--blue0_x), 0.9);
}
.cm-hmd-frontmatter {
    font-size: var(--font-smaller);
    color: none;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │               Metadata & Document Display               │
 * ╰─────────────────────────────────────────────────────────╯
*/

.cm-hmd-internal-link,
.cm-hmd-internal-link a,
.HyperMD-header .cm-hmd-internal-link a,
.cm-link,
.cm-link .cm-hmd-internal-link,
.markdown-preview-view .internal-link,
.markdown-source-view .internal-link {
  text-decoration: none;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │       Header Spacing Between Header and Paragraph       │
 * ╰─────────────────────────────────────────────────────────╯
*/
.HyperMD-header-1,
.HyperMD-header-2 {
  padding-bottom: 0.125em;
}

.HyperMD-header-3 {
  padding-bottom: 0.1em;
}

.HyperMD-header-4 {
  padding-bottom: 0.075em;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                  Show Header Hashtags                   │
 * ╰─────────────────────────────────────────────────────────╯
*/

/* ───────────────────────────────────────────────
   Minimal Image Captions
─────────────────────────────────────────────── */
.minimal-image-captions .image-captions-figure {
  background-color: transparent !important;
}

.minimal-image-captions .image-captions-caption {
  background-color: transparent !important;
  text-align: left !important;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │    Show Header Levels Instead of Collapse Indicators    │
 * ╰─────────────────────────────────────────────────────────╯
*/
.show-header-levels-always
  .HyperMD-header
  .cm-fold-indicator
  .collapse-indicator {
  opacity: 1 !important;
}

.HyperMD-header .cm-fold-indicator .collapse-indicator svg {
  display: none;
}

.HyperMD-header .cm-fold-indicator .collapse-indicator::before {
  font-size: calc(var(--font-text-size) * 0.75);
  font-weight: 600 !important;
  color: var(--text-faint);
  width: max-content;
}
.view-content > .markdown-source-view.mod-cm6 > .cm-editor > .cm-scroller {
  padding: 16px;
}

/* Mobile: fixed padding to prevent layout shifts that cause auto-scroll */
@media (max-width: 768px) {
  .view-content > .markdown-source-view.mod-cm6 > .cm-editor > .cm-scroller {
    padding: 12px 16px !important;
  }
}


/* ================================================= */

/* components\form-elements.css */
/* ========================================================================== */
/*                              FORM ELEMENTS                                */
/* ========================================================================== */

/* Material Design 3 Buttons */
.mod-cta {
  border-radius: 16px;
  padding: 0 16px;
  font-weight: 500;
  font-size: 12px;
  letter-spacing: 0.1px;
  transition: box-shadow 0.15s ease;
}

.mod-cta:hover {
  box-shadow: 0 4px 16px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.4);
}

.mod-cta:active {
  box-shadow: 0 2px 8px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
}

/* Enhanced Input Fields */
input[type="text"],
input[type="search"],
input[type="email"],
input[type="password"],
textarea {
  border-radius: 12px;
  border: 2px solid rgba(var(--text-muted-rgb), 0.2);
  transition: border-color 0.15s ease;
}

input[type="text"]:focus,
input[type="search"]:focus,
input[type="email"]:focus,
input[type="password"]:focus,
textarea:focus {
  background: var(--background-secondary);
  outline: none;
  box-shadow: 0 0 0 3px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.1);
}

/* Enhanced Dropdowns */
.dropdown {
  border-radius: 8px;
  border: 1px solid rgba(var(--text-muted-rgb), 0.3);
  padding: 8px 12px;
  transition: border-color 0.15s ease;
  min-height: 36px;
  font-size: 14px;
  color: var(--text-normal);
}

.dropdown:focus {
  border-color: var(--accent-color);
  background: var(--background-secondary);
  outline: none;
  box-shadow: 0 0 0 2px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.2);
}

.dropdown:hover {
  border-color: rgba(var(--text-muted-rgb), 0.5);
}

/* ========================================================================== */
/*                          MOBILE OPTIMIZATIONS                             */
/* ========================================================================== */

/* Mobile form elements - touch-friendly */
@media (max-width: 768px) {
  .mod-cta {
    min-height: 44px;
    padding: 12px 16px;
    font-size: 14px;
    border-radius: 12px;
  }

  .dropdown {
    min-height: 44px;
    padding: 12px 16px;
    font-size: 16px;
    border-radius: 8px;
  }

  /* Remove expensive effects on mobile */
  .mod-cta:hover {
    box-shadow: none;
  }
}

/* ========================================================================== */
/*                         ACCESSIBILITY IMPROVEMENTS                        */
/* ========================================================================== */

/* High contrast mode */
@media (prefers-contrast: high) {
  .mod-cta {
    border: 2px solid var(--text-normal);
    background: var(--background-primary);
    color: var(--text-normal);
  }

  .mod-cta:hover,
  .mod-cta:focus {
    background: var(--accent-color);
    color: var(--text-on-accent);
    border-color: var(--accent-color);
  }

  input[type="text"],
  input[type="search"],
  input[type="email"],
  input[type="password"],
  textarea,
  .dropdown {
    border: 1px solid var(--text-muted);
    background: var(--background-primary);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .mod-cta,
  input[type="text"],
  input[type="search"],
  input[type="email"],
  input[type="password"],
  textarea,
  .dropdown {
    transition: none !important;
  }
}

/* ========================================================================== */
/*                           FORM VALIDATION                                 */
/* ========================================================================== */

/* Error states */
input[type="text"].error,
input[type="search"].error,
input[type="email"].error,
input[type="password"].error,
textarea.error,
.dropdown.error {
  border-color: var(--text-error);
  background: rgba(var(--text-error-rgb), 0.05);
}

input[type="text"].error:focus,
input[type="search"].error:focus,
input[type="email"].error:focus,
input[type="password"].error:focus,
textarea.error:focus,
.dropdown.error:focus {
  box-shadow: 0 0 0 3px rgba(var(--text-error-rgb), 0.2);
}

/* Success states */
input[type="text"].success,
input[type="search"].success,
input[type="email"].success,
input[type="password"].success,
textarea.success,
.dropdown.success {
  border-color: var(--text-success);
  background: rgba(var(--text-success-rgb), 0.05);
}

/* ========================================================================== */
/*                            FORM LAYOUT                                    */
/* ========================================================================== */

/* Form groups */
.form-group {
  margin-bottom: 20px;
}

.form-group label {
  display: block;
  margin-bottom: 6px;
  font-weight: 500;
  color: var(--text-normal);
  font-size: 14px;
}

/* Form buttons */
.form-buttons {
  display: flex;
  gap: 12px;
  margin-top: 20px;
}

@media (max-width: 768px) {
  .form-buttons {
    flex-direction: column;
    gap: 12px;
  }

  .form-buttons .mod-cta {
    width: 100%;
    justify-content: center;
  }
}


/* ================================================= */

/* components\headers.css */
/* ========================================================================== */
/*                               HEADERS                                     */
/* ========================================================================== */

/* Header Indicators - Beautiful bars for navigation */
.markdown-preview-view h1::before {
  content: "▍";
  color: var(--h1-color);
  font-weight: bold;
  margin-right: 0.5em;
  opacity: 0.8;
}

.markdown-preview-view h2::before {
  content: "▍";
  color: var(--h2-color);
  font-weight: bold;
  margin-right: 0.5em;
  opacity: 0.8;
}

.markdown-preview-view h3::before {
  content: "▍";
  color: var(--h3-color);
  font-weight: bold;
  margin-right: 0.5em;
  opacity: 0.8;
}

.markdown-preview-view h4::before {
  content: "▍";
  color: var(--h4-color);
  font-weight: bold;
  margin-right: 0.5em;
  opacity: 0.8;
}

.markdown-preview-view h5::before {
  content: "▍";
  color: var(--h5-color);
  font-weight: bold;
  margin-right: 0.5em;
  opacity: 0.8;
}

.markdown-preview-view h6::before {
  content: "▍";
  color: var(--h6-color);
  font-weight: bold;
  margin-right: 0.5em;
  opacity: 0.8;
}


/* Enhanced Header Styling with left margins */
.markdown-preview-view h1,
.markdown-preview-view h2,
.markdown-preview-view h3,
.markdown-preview-view h4,
.markdown-preview-view h5,
.markdown-preview-view h6 {
  position: relative;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
  margin-left: 8px; /* Small left margin for beauty */
  line-height: 1.3;
  font-family: var(--font-family-heading);
}

/* Optional underlines for headers */
.markdown-preview-view h1::after {
  content: "";
  display: block;
  width: 100%;
  height: 2px;
  background: linear-gradient(to right, var(--h1-color), transparent);
  margin-top: 8px;
}

.markdown-preview-view h2::after {
  content: "";
  display: block;
  width: 80%;
  height: 1px;
  background: linear-gradient(to right, var(--h2-color), transparent);
  margin-top: 6px;
}

/* Outline Enhancement */
.outline .tree-item-self {
  position: relative;
  padding-left: 1.5em;
}

.outline .tree-item-self::before {
  content: "";
  position: absolute;
  left: 0;
  top: 50%;
  width: 3px;
  height: 60%;
  border-radius: 2px;
  opacity: 0.6;
}

.outline .tree-item-self:hover::before {
  opacity: 1;
  width: 4px;
}

.outline .tree-item-self.is-active::before {
  opacity: 1;
  width: 4px;
}

/* Navigation Breadcrumbs */
.breadcrumb {
  display: flex;
  align-items: center;
  margin-bottom: 1em;
  font-size: 0.9em;
  color: var(--text-muted);
}

.breadcrumb-item {
  display: flex;
  align-items: center;
}

.breadcrumb-item:not(:last-child)::after {
  content: "▶";
  margin: 0 8px;
  color: var(--text-faint);
  font-size: 0.7em;
}


.markdown-preview-view .toc li::before {
  content: "→";
  color: var(--accent-color);
  margin-right: 8px;
}

/* Header Folding Indicators */
.cm-fold-indicator .collapse-indicator {
  color: var(--text-muted) !important;
  transition: color 0.2s ease;
}

.cm-fold-indicator:hover .collapse-indicator {
  color: var(--accent-color) !important;
}

/* ========================================================================== */
/*                            TEXT FORMATTING                                */
/* ========================================================================== */

/* Bold text (strong) */
.cm-strong,
strong,
b {
  color: var(--cyan) !important;
  font-weight: 700;
  text-shadow: 0 0 1px rgba(var(--cyan_x), 0.3);
}

/* Italic text (emphasis) */
.cm-em,
em,
i {
  color: var(--blue) !important;
  font-style: italic;
  text-shadow: 0 0 1px rgba(var(--blue_x), 0.2);
}

/* Combined bold and italic */
.cm-strong.cm-em,
strong em,
em strong,
b i,
i b {
  color: var(--orange) !important;
  font-weight: 700;
  font-style: italic;
  text-shadow: 0 0 2px rgba(var(--orange_x), 0.4);
}

/* Strikethrough text */
.cm-strikethrough,
s,
del {
  color: var(--red) !important;
  text-decoration: line-through;
  opacity: 0.8;
}

/* Highlighted text (mark) */
mark,
.cm-highlight {
  background: linear-gradient(120deg, transparent 0%, var(--cyan) 0%, var(--cyan) 100%, transparent 100%);
  background-size: 100% 40%;
  background-repeat: no-repeat;
  background-position: 0 60%;
  color: var(--text-normal) !important;
  padding: 2px 4px;
  border-radius: 3px;
  box-shadow: 0 0 8px rgba(var(--cyan_x), 0.3);
}

/* ========================================================================== */
/*                               BLOCKQUOTES                                 */
/* ========================================================================== */

/* Style formatting elements in live preview */
.cm-formatting.cm-formatting-quote,
.cm-formatting.cm-formatting-quote-1 {
  color: var(--blockquote-accent) !important;
  font-weight: 600;
  opacity: 0.8;
}

/* Beautiful blockquote styling for both reading and live preview */
blockquote {
  border: none;
  border-left: 3px solid var(--blockquote-border);
  background: var(--blockquote-bg);
  padding: 20px 24px;
  margin: 20px 0;
  border-radius: 6px;
  color: var(--blockquote-color);
  font-style: normal;
  position: relative;
  box-shadow: 0 2px 8px rgba(var(--cyan_x), 0.1);
  transition: all 0.15s ease;
}

/* Beautiful quote mark */
blockquote::before {
  content: "⸨";
  font-size: 2.5em;
  color: var(--blockquote-quote-mark);
  position: absolute;
  top: 8px;
  left: 8px;
  line-height: 1;
  font-family: 'Georgia', serif;
  z-index: 1;
}

/* Content styling */
blockquote p {
  margin: 0;
  padding-left: 16px;
  position: relative;
  z-index: 2;
  line-height: 1.6;
}

blockquote p:not(:first-child) {
  margin-top: 12px;
}

/* Special styling for nested blockquotes */
blockquote blockquote {
  margin: 12px 0;
  padding: 12px 16px;
  border-left-width: 2px;
  background: rgba(var(--cyan_x), 0.03);
}

/* Remove quote mark from nested blockquotes */
blockquote blockquote::before {
  display: none;
}


/* ================================================= */

/* components\interface-fixes.css */
/* ========================================================================== */
/*                             INTERFACE FIXES                               */
/* ========================================================================== */

/* ========================================================================== */
/*                           NAVIGATION ARROWS                               */
/* ========================================================================== */

/* Navigation buttons container */
.view-header-nav-buttons {
  display: flex;
  gap: 4px;
  align-items: center;
}



.view-action:hover {
  background: var(--background-modifier-hover);
}

/* Hide only when disabled/unavailable */
.view-action:disabled,
.view-action.is-disabled,
.view-action[aria-disabled="true"] {
  opacity: 0.2;
  pointer-events: none;
}

/* Ensure back/forward buttons show when available */
.view-action[aria-label*="back"]:not(:disabled):not(.is-disabled),
.view-action[aria-label*="forward"]:not(:disabled):not(.is-disabled) {
  opacity: 1;
  display: flex;
}

/* ========================================================================== */
/*                             OVERFLOW FIXES                                */
/* ========================================================================== */

/* Clean overflow fixes - only where actually needed */
.clickable-icon,
.nav-action-button,
.view-action,
.tree-item,
.nav-file,
.nav-folder,
.workspace-tab-header,
.titlebar,
.status-bar {
  overflow: visible !important;
}

/* Essential overflow settings for content areas */
.workspace-leaf-content .view-content,
.nav-files-container {
  overflow: auto;
}


/* ================================================= */

/* components\menus-navigation.css */
/* ========================================================================== */
/*                           MENUS & NAVIGATION                              */
/* ========================================================================== */

/* Enhanced Blur Effects for UI */
.suggestion-container,
.menu {
  backdrop-filter: blur(8px);
  background: rgba(var(--bg-secondary-rgb), 0.7);
  border-radius: 8px;
}



.menu-item {
  border-radius: 6px;
  color: var(--text-normal);
  padding: 2px 8px;
  min-height: 20px;
  display: flex;
  align-items: center;
  transition:
    background-color 0.15s ease,
    color 0.15s ease;
}

.menu-item:hover {
  transform: none !important;
  background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.5);
}

.menu-item.is-selected,
.menu-item.is-focused {
  background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.2);
  color: var(--accent-color);
  font-weight: 500;
}

/* Callout Styling */
.callout {
  --callout-padding: 16px;
  padding: var(--callout-padding);
  border-radius: 12px;
  border-width: 1px;
}




.workspace-tab-header:hover {
  background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.2);
}

.workspace-tab-header.is-active {
  background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
  border-bottom: 2px solid var(--accent-color);
}

.workspace-split.mod-root .workspace-tab-header.is-active::before,
.workspace-split.mod-root .workspace-tab-header.is-active::after {
    box-shadow: none;
}

/* Enhanced Card Design */
.workspace-leaf-content,
.markdown-preview-view,
.markdown-source-view {
  border-radius: 12px;
}

/* ========================================================================== */
/*                         TOUCH-FRIENDLY IMPROVEMENTS                       */
/* ========================================================================== */

/* Ensure minimum touch target size */
@media (max-width: 768px) {


  /* Touch-friendly suggestion items */
  .suggestion-item {
    min-height: 12px;
    padding: 8px 8px;
    margin: 4px 0;
  }

  .suggestion-item:first-child {
    margin-top: 0;
  }

  .suggestion-item:last-child {
    margin-bottom: 0;
  }

  /* Touch-friendly menu separators */
  .menu-separator {
    height: 1px;
    margin: 8px 0;
    background: rgba(var(--text-muted-rgb), 0.2);
  }



  /* Touch-friendly toggle buttons */
  .setting-item.mod-toggle {
    min-height: 60px;
    padding: 12px 16px;
  }

  .setting-item-control {
    min-height: 44px;
  }

  /* Touch-friendly status bar */
  .status-bar-item {
    min-height: 32px;
    padding: 8px 12px;
    margin: 2px;
    border-radius: 8px;
  }

  /* Touch-friendly breadcrumbs */
  .breadcrumb-item {
    min-height: 32px;
    padding: 6px 8px;
  }
}

/* ========================================================================== */
/*                          ACCESSIBILITY IMPROVEMENTS                       */
/* ========================================================================== */

/* High contrast mode */
@media (prefers-contrast: high) {
  .menu-item,
  .suggestion-item,
  .workspace-tab-header,
  .nav-file-title,
  .nav-folder-title {
    border: 1px solid var(--text-muted);
  }

  .menu-item:hover,
  .suggestion-item:hover,
  .workspace-tab-header:hover,
  .nav-file-title:hover,
  .nav-folder-title:hover {
    border-color: var(--accent-color);
  }

  .menu-item.is-selected,
  .suggestion-item.is-selected,
  .workspace-tab-header.is-active {
    border-color: var(--accent-color);
    border-width: 1px;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .menu-item,
  .suggestion-item,
  .workspace-tab-header,
  .nav-file-title,
  .nav-folder-title,
  .callout {
    transition: none !important;
  }
}

/* Focus indicators */
.menu-item:focus,
.suggestion-item:focus,
.workspace-tab-header:focus,
.nav-file-title:focus,
.nav-folder-title:focus {
  outline: 2px solid var(--accent-color);
  outline-offset: 2px;
}

/* ========================================================================== */
/*                        PERFORMANCE OPTIMIZATIONS                          */
/* ========================================================================== */

/* Optimize animations for mobile */
@media (max-width: 768px) {
  .menu-item,
  .suggestion-item,
  .workspace-tab-header,
  .nav-file-title,
  .nav-folder-title {
    transition-duration: 0.1s;
  }

  /* Disable complex backdrop filters on low-end devices */
  @media (max-width: 480px) and (max-resolution: 150dpi) {
    .suggestion-container,
    .menu,
    .workspace-leaf-content,
    .markdown-preview-view,
    .markdown-source-view {
      backdrop-filter: none;
    }
  }
}

/* Optimize for touch scrolling - DISABLED smooth scroll to prevent auto-scroll */
@media (max-width: 768px) {
  .suggestion-container,
  .menu,
  .workspace-tabs {
    -webkit-overflow-scrolling: auto;
    scroll-behavior: auto;
  }
}

/* ========================================================================== */
/*                           LANDSCAPE OPTIMIZATIONS                         */
/* ========================================================================== */

/* Landscape mobile adjustments */
@media (max-width: 1024px) and (orientation: landscape) {


  .menu-item {
    padding: 6px 12px;
    min-height: 32px;
  }

  .nav-file-title,
  .nav-folder-title {
    min-height: 32px;
  }

  /* Compact modals in landscape */
  .modal {
    max-height: 70vh;
    margin: 16px;
  }

  /* Compact callouts in landscape */
  .callout {
    --callout-padding: 12px;
    margin: 6px 0;
  }
}

/* ========================================================================== */
/*                            FUTURE-PROOFING                               */
/* ========================================================================== */

/* Container query support */
@supports (container-type: inline-size) {
  .workspace-leaf {
    container-type: inline-size;
  }

  @container (max-width: 400px) {
    .workspace-tab-header {
      height: 36px;
      font-size: 12px;
    }
  }
}


/* ================================================= */

/* components\modals.css */
/* Styles for modals and popovers */
:not(.mod-windows) .prompt,
:not(.mod-windows) .popover,
:not(.mod-windows) .suggestion,
:not(.mod-windows) .graph-controls,
:not(.mod-windows) .lt-predictions-container,
:not(.mod-windows) .vertical-tab-content {
  background-color: var(--modal-background) !important;
}

/* Add blur to modals */
.modal {
    backdrop-filter: blur(4px);

}

.modal-bg {
    background-color: transparent;
    backdrop-filter: blur(4px);
}


/* ================================================= */

/* components\navigation.css */
/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                  Sidebars & Dock Areas                  │
 * ╰─────────────────────────────────────────────────────────╯
*/

/* Hide left/right sidebar toggle buttons */
.sidebar-toggle-button.mod-right,
.sidebar-toggle-button.mod-left {
  display: none;
}

.workspace-sidedock-vault-profile:hover .workspace-drawer-vault-switcher,
.workspace-sidedock-vault-profile
  .workspace-drawer-vault-switcher.has-active-menu {
  opacity: 1;
}

/* Hide vault action buttons (help, settings) */
.workspace-sidedock-vault-profile .workspace-drawer-vault-actions {
  display: none !important;
}

/* Hide tag, backlinks, outgoing links, and outline headers unless hovered */
.workspace-split .workspace-leaf-content[data-type="tag"] .nav-header,
.workspace-split .workspace-leaf-content[data-type="outgoing-link"] .nav-header,
.workspace-split .workspace-leaf-content[data-type="backlink"] .nav-header,
.workspace-split .workspace-leaf-content[data-type="outline"] .nav-header {
  padding: 0;
  opacity: 0;
  height: 0;
  transition:
    opacity 0.3s ease,
    height 0.3s ease,
    padding 0.3s ease;
}

.workspace-split:hover .workspace-leaf-content[data-type="tag"] .nav-header,
.workspace-split:hover
  .workspace-leaf-content[data-type="outgoing-link"]
  .nav-header,
.workspace-split:hover
  .workspace-leaf-content[data-type="backlink"]
  .nav-header,
.workspace-split:hover
  .workspace-leaf-content[data-type="outline"]
  .nav-header {
  opacity: 1;
  height: 1.75em;
}

.mod-left-split
  .mod-top-left-space
  .workspace-tab-header-container-inner:hover {
  opacity: 1;
}

/* Add softer blur to sidebars */
.workspace-drawer.mod-left::before,
.workspace-drawer.mod-right::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: rgba(var(--bg_x), 0.9);
    z-index: -1;
}

.workspace-drawer.mod-left,
.workspace-drawer.mod-right {
    background-color: transparent;
    border: none;
}

/* Navigation Item Colors */
.nav-file-title,
.nav-folder-title {
  color: var(--nav-item-color);
}

/* Remove default ellipsis from navigation titles */
.nav-file-title-content:not([contenteditable="true"]),
.nav-folder-title-content:not([contenteditable="true"]) {
    text-overflow: unset !important;
    overflow: visible !important;
    white-space: nowrap !important;
    line-height: 1.3;
}

/* Ensure single line display without wrapping */
.nav-file-title,
.nav-folder-title {
    white-space: nowrap;
    overflow: visible;
    min-height: auto;
}

/* ========================================================================== */
/*                            NAVIGATION STRUCTURE                           */
/* ========================================================================== */

/* File explorer container */
.nav-files-container {
    padding: 2px 4px;
    font-size: 13px;
    line-height: 1.4;
}

/* Active file highlighting - minimal */
.nav-file.is-active {
    background-color: transparent;
    color: var(--text-accent);
}

.nav-file.is-active .nav-file-title-content {
    color: var(--text-accent);
    font-weight: 500;
}

/* ========================================================================== */
/*                             FOLDER STYLES                                 */
/* ========================================================================== */

/* Folder collapse/expand */
.nav-folder.mod-root > .nav-folder-title {
    font-weight: 600;
    color: var(--text-normal);
    font-size: 13px;
    padding: 2px 4px;
    border-radius: 4px;
    margin-bottom: 1px;
}

.nav-folder-title {
    cursor: pointer;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 4px;
    transition: none;
}

.nav-folder-title:hover {
    background-color: transparent;
}

/* Folder icons */
.nav-folder-collapse-indicator {
    width: 16px;
    height: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: transform 0.15s ease, opacity 0.15s ease;
}

.nav-folder-collapse-indicator:hover {
    opacity: 1;
}


/* Folder children */
.nav-folder-children {
    padding-left: 12px;
    margin-left: 4px;
    border-left: 1px solid var(--background-modifier-border);
}

/* ========================================================================== */
/*                              FILE STYLES                                  */
/* ========================================================================== */

/* File items */
.nav-file-title {
    cursor: pointer;
    padding: 2px 2px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    gap: 4px;
    transition: none;
    min-height: 22px;
}

.nav-file-title:hover {
    background-color: transparent;
}

/* File content */
.nav-file-title-content {
    flex: 1;
    font-size: 13px;
    color: var(--text-normal);
    font-weight: 400;
    line-height: 1.3;
}

/* File extensions */
.nav-file-title-content::after {
    content: "";
    display: none;
}

/* Hide file extension by default */
.nav-file-title-content[data-path$=".md"]::after {
    display: none;
}

/* ========================================================================== */
/*                           MOBILE OPTIMIZATIONS                            */
/* ========================================================================== */

/* Mobile touch targets */
@media (max-width: 768px) {
    .nav-file-title,
    .nav-folder-title {
        font-size: 14px;
    }

    .nav-file-title-content,
    .nav-folder-title-content {
        font-size: 14px;
        line-height: 1.4;
    }

    .nav-files-container {
        padding: 4px 8px;
    }

    .nav-folder-children {
        padding-left: 16px;
        margin-left: 8px;
    }

    .nav-folder-collapse-indicator {
        width: 20px;
        height: 20px;
    }

    /* Larger touch targets for mobile */
    .nav-file,
    .nav-folder {
        margin-bottom: 1px;
        border-radius: 4px;
    }

    /* No background highlighting on mobile */
    .nav-file:active,
    .nav-folder:active {
        background-color: transparent;
        transition: none;
    }
}

/* Tablet optimizations */
@media (min-width: 769px) and (max-width: 1024px) {

    .nav-files-container {
        padding: 6px 10px;
    }

    .nav-folder-children {
        padding-left: 18px;
        margin-left: 10px;
    }
}

/* ========================================================================== */
/*                           DRAG AND DROP SUPPORT                           */
/* ========================================================================== */

/* Drag hover states - neutral styling */
.nav-file.is-being-dragged,
.nav-folder.is-being-dragged {
    opacity: 0.5;
}

.nav-file.is-being-dragged-over,
.nav-folder.is-being-dragged-over {
    background: rgba(var(--text-muted-rgb), 0.15);
    border: 2px dashed rgba(var(--text-muted-rgb), 0.4);
    border-radius: 4px;
}

.nav-file.is-being-dragged-over .nav-file-title-content,
.nav-folder.is-being-dragged-over .nav-folder-title-content {
    font-weight: 500;
}

/* ========================================================================== */
/*                            SEARCH HIGHLIGHTING                            */
/* ========================================================================== */

/* Search results in navigation */
.nav-file-title-content mark,
.nav-folder-title-content mark {
    background-color: var(--text-highlight-bg);
    color: var(--text-normal);
    padding: 1px 2px;
    border-radius: 2px;
}

/* Search match highlighting */
.nav-file.is-search-match,
.nav-folder.is-search-match {
    background-color: var(--background-modifier-success);
    border-left: 3px solid var(--text-accent);
}

/* ========================================================================== */
/*                           ACCESSIBILITY SUPPORT                           */
/* ========================================================================== */

/* Focus indicators */
.nav-file-title:focus,
.nav-folder-title:focus {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
}

/* High contrast mode */
@media (prefers-contrast: high) {
    .nav-file-title,
    .nav-folder-title {
        border: 1px solid var(--background-modifier-border);
    }

    .nav-file.is-active {
        border: 2px solid var(--interactive-accent);
    }

    .nav-file-title-content,
    .nav-folder-title-content {
        color: var(--text-normal);
    }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
    .nav-file,
    .nav-folder,
    .nav-file-title,
    .nav-folder-title,
    .nav-folder-collapse-indicator {
        transition: none !important;
        animation: none !important;
    }
}

/* ========================================================================== */
/*                         PERFORMANCE OPTIMIZATIONS                         */
/* ========================================================================== */

/* Optimize animations for mobile */
@media (max-width: 768px) {
    .nav-file,
    .nav-folder,
    .nav-file-title,
    .nav-folder-title {
        transition-duration: 0.1s;
    }

    .nav-folder-collapse-indicator {
        transition-duration: 0.1s;
    }
}

/* Remove complex effects on low-end devices */
@media (max-width: 480px) and (max-resolution: 150dpi) {
    .nav-file,
    .nav-folder,
    .nav-file-title,
    .nav-folder-title,
    .nav-folder-collapse-indicator {
        transition: none;
    }

    .nav-file.is-being-dragged,
    .nav-folder.is-being-dragged {
        transform: none;
    }
}

/* GPU acceleration for smooth scrolling */
.nav-files-container {
  transform: translateZ(0);
  -webkit-overflow-scrolling: auto;
}

/* ========================================================================== */
/*                            CUSTOM ENHANCEMENTS                            */
/* ========================================================================== */

/* Enhanced folder structure visualization */
.nav-folder-children .nav-folder-children {
    border-left-color: var(--background-modifier-border-hover);
}

.nav-folder-children .nav-folder-children .nav-folder-children {
    border-left-color: var(--background-modifier-border-focus);
}

/* Recent files highlighting */
.nav-file.is-recent {
    position: relative;
}

.nav-file.is-recent::before {
    content: "";
    position: absolute;
    left: 0;
    top: 50%;
    transform: translateY(-50%);
    width: 3px;
    height: 12px;
    background-color: var(--interactive-accent);
    border-radius: 2px;
}

/* Pinned files */
.nav-file.is-pinned .nav-file-title-content::before {
    content: "📌";
    margin-right: 6px;
    font-size: 10px;
}

/* ========================================================================== */
/*                           COMPACT MODE SUPPORT                            */
/* ========================================================================== */

/* Compact navigation mode */
.nav-files-container.is-compact {
    padding: 2px 4px;
    font-size: 12px;
}

.nav-files-container.is-compact .nav-file-title,
.nav-files-container.is-compact .nav-folder-title {
    min-height: 20px;
    padding: 2px 6px;
    font-size: 12px;
}

.nav-files-container.is-compact .nav-folder-children {
    padding-left: 12px;
    margin-left: 6px;
}

.nav-files-container.is-compact .nav-folder-collapse-indicator {
    width: 12px;
    height: 12px;
}

/* ========================================================================== */
/*                           THEME INTEGRATION                               */
/* ========================================================================== */

/* Dark theme adjustments */
.theme-dark .nav-file-title-content,
.theme-dark .nav-folder-title-content {
    color: var(--text-normal);
}

/* Light theme adjustments */
.theme-light .nav-file-title-content,
.theme-light .nav-folder-title-content {
    color: var(--text-normal);
}

.theme-light .nav-file.is-active {
    background-color: var(--background-modifier-active-hover);
}

/* ========================================================================== */
/*                           FOLDER NOTES STYLING                            */
/* ========================================================================== */

.folder-note-cursive .has-folder-note .nav-folder-title-content,
.folder-note-cursive-path .has-folder-note.view-header-breadcrumb {
  color: var(--folder-note-color);
  font-style: italic;
  font-weight: 450;
}

.folder-note-cursive .has-folder-note .nav-folder-title-content {
  border-bottom: 1px solid rgba(var(--folder-note-color_x), 0.3);
}

.folder-note-cursive .has-folder-note .nav-folder-title:hover .nav-folder-title-content {
  color: var(--magenta-light);
  border-bottom-color: rgba(var(--folder-note-color_x), 0.8);
}

.folder-note-cursive-path .has-folder-note.view-header-breadcrumb {
  background: rgba(var(--folder-note-color_x), 0.08);
  border-bottom: 1px solid rgba(var(--folder-note-color_x), 0.2);
}

.folder-note-cursive-path .has-folder-note.view-header-breadcrumb:hover {
  background: rgba(var(--folder-note-color_x), 0.15);
  border-bottom-color: rgba(var(--folder-note-color_x), 0.5);
}

.tree-item-self.mod-collapsible {
    padding: 2px 8px 2px 28px;
}


/* ================================================= */

/* components\scrollbars.css */
/* Hide all scrollbars by default */
::-webkit-scrollbar {
  width: 0px;
  height: 0px;
  display: none;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 4px;
}

/* ========================================================================== */
/*                           CONTENT AREAS ONLY                              */
/* ========================================================================== */

/* Show scrollbars only on main content areas */
.workspace-leaf-content::-webkit-scrollbar,
.markdown-source-view::-webkit-scrollbar,
.markdown-preview-view::-webkit-scrollbar,
.cm-scroller::-webkit-scrollbar {
  width: 8px;
  height: 8px;
  display: block;
}

.workspace-leaf-content::-webkit-scrollbar-track,
.markdown-source-view::-webkit-scrollbar-track,
.markdown-preview-view::-webkit-scrollbar-track,
.cm-scroller::-webkit-scrollbar-track {
  background: transparent;
}

.workspace-leaf-content::-webkit-scrollbar-thumb,
.markdown-source-view::-webkit-scrollbar-thumb,
.markdown-preview-view::-webkit-scrollbar-thumb,
.cm-scroller::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 4px;
  transition: background-color 0.2s ease;
}

/* Show scrollbars only on hover */
.workspace-leaf-content:hover::-webkit-scrollbar-thumb,
.markdown-source-view:hover::-webkit-scrollbar-thumb,
.markdown-preview-view:hover::-webkit-scrollbar-thumb,
.cm-scroller:hover::-webkit-scrollbar-thumb {
  background: rgba(var(--text-muted-rgb), 0.2);
}

.workspace-leaf-content:hover::-webkit-scrollbar-thumb:hover,
.markdown-source-view:hover::-webkit-scrollbar-thumb:hover,
.markdown-preview-view:hover::-webkit-scrollbar-thumb:hover,
.cm-scroller:hover::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--text-muted-rgb), 0.4);
}

/* Show scrollbars when content is focused */
.workspace-leaf-content:focus-within::-webkit-scrollbar-thumb,
.markdown-source-view:focus-within::-webkit-scrollbar-thumb,
.markdown-preview-view:focus-within::-webkit-scrollbar-thumb,
.cm-scroller:focus-within::-webkit-scrollbar-thumb {
  background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
}

/* ========================================================================== */
/*                          MOBILE - COMPLETELY HIDDEN                       */
/* ========================================================================== */

/* Mobile - hide all scrollbars completely */
@media (max-width: 768px) {
  ::-webkit-scrollbar,
  .workspace-leaf-content::-webkit-scrollbar,
  .markdown-source-view::-webkit-scrollbar,
  .markdown-preview-view::-webkit-scrollbar,
  .cm-scroller::-webkit-scrollbar {
    width: 0px !important;
    height: 0px !important;
    display: none !important;
  }

  /* Ensure smooth scrolling on mobile - DISABLED to prevent auto-scroll */
  .workspace-leaf-content,
  .markdown-preview-view,
  .markdown-source-view,
  .cm-scroller {
    scroll-behavior: auto;
    -webkit-overflow-scrolling: auto;
    scrollbar-width: none;
  }

  /* Hide all scrollbar elements */
  ::-webkit-scrollbar-track,
  ::-webkit-scrollbar-thumb {
    display: none !important;
  }
}

/* ========================================================================== */
/*                          DESKTOP - HOVER ONLY                             */
/* ========================================================================== */

/* Desktop - subtle scrollbars on hover */
@media (min-width: 769px) {
  /* Main content scrollbars */
.workspace-leaf-content::-webkit-scrollbar,
.markdown-source-view::-webkit-scrollbar,
  .markdown-preview-view::-webkit-scrollbar,
  .cm-scroller::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  /* Default state - invisible */
  .workspace-leaf-content::-webkit-scrollbar-thumb,
  .markdown-source-view::-webkit-scrollbar-thumb,
  .markdown-preview-view::-webkit-scrollbar-thumb,
  .cm-scroller::-webkit-scrollbar-thumb {
    background: transparent;
  }

  /* Hover state - barely visible */
  .workspace-leaf-content:hover::-webkit-scrollbar-thumb,
  .markdown-source-view:hover::-webkit-scrollbar-thumb,
  .markdown-preview-view:hover::-webkit-scrollbar-thumb,
  .cm-scroller:hover::-webkit-scrollbar-thumb {
    background: rgba(var(--text-muted-rgb), 0.15);
  }

  /* Scrollbar thumb hover - more visible */
  .workspace-leaf-content:hover::-webkit-scrollbar-thumb:hover,
  .markdown-source-view:hover::-webkit-scrollbar-thumb:hover,
  .markdown-preview-view:hover::-webkit-scrollbar-thumb:hover,
  .cm-scroller:hover::-webkit-scrollbar-thumb:hover {
    background: rgba(var(--text-muted-rgb), 0.35);
  }
}

/* ========================================================================== */
/*                         EXCLUDE SMALL ELEMENTS                            */
/* ========================================================================== */

/* Never show scrollbars on small elements */
.clickable-icon::-webkit-scrollbar,
.nav-action-button::-webkit-scrollbar,
.tree-item::-webkit-scrollbar,
.nav-file::-webkit-scrollbar,
.nav-folder::-webkit-scrollbar,
.workspace-tab-header::-webkit-scrollbar,
.titlebar::-webkit-scrollbar,
.status-bar::-webkit-scrollbar,
.status-bar-item::-webkit-scrollbar,
.sidebar-toggle-button::-webkit-scrollbar,
.view-action::-webkit-scrollbar,
.setting-item::-webkit-scrollbar,
.checkbox-container::-webkit-scrollbar {
  width: 0px !important;
  height: 0px !important;
  display: none !important;
}

/* ========================================================================== */
/*                          SPECIAL CONTEXTS                                 */
/* ========================================================================== */

/* Modals and popups - minimal scrollbars */
.modal::-webkit-scrollbar,
.popover::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

.modal::-webkit-scrollbar-thumb,
.popover::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 3px;
}

.modal:hover::-webkit-scrollbar-thumb,
.popover:hover::-webkit-scrollbar-thumb {
  background: rgba(var(--text-muted-rgb), 0.3);
}

/* Suggestion containers - no scrollbars */
.suggestion-container::-webkit-scrollbar,
.menu::-webkit-scrollbar {
  width: 0px !important;
  height: 0px !important;
  display: none !important;
}

/* Code blocks - minimal horizontal scrollbar */
pre::-webkit-scrollbar {
  width: 0px;
  height: 4px;
}

pre::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 2px;
}

pre:hover::-webkit-scrollbar-thumb {
  background: rgba(var(--text-muted-rgb), 0.3);
}

/* Tables - horizontal scrollbar only */
.table-wrapper::-webkit-scrollbar {
  width: 0px;
  height: 6px;
}

.table-wrapper::-webkit-scrollbar-thumb {
  background: transparent;
  border-radius: 3px;
}

.table-wrapper:hover::-webkit-scrollbar-thumb {
  background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
}

/* ========================================================================== */
/*                         ACCESSIBILITY SUPPORT                             */
/* ========================================================================== */

/* High contrast mode - always visible scrollbars */
@media (prefers-contrast: high) {
  .workspace-leaf-content::-webkit-scrollbar-thumb,
  .markdown-source-view::-webkit-scrollbar-thumb,
  .markdown-preview-view::-webkit-scrollbar-thumb,
  .cm-scroller::-webkit-scrollbar-thumb {
    background: rgba(var(--text-normal-rgb), 0.3) !important;
    border: 1px solid var(--background-primary);
  }

  .workspace-leaf-content::-webkit-scrollbar-track,
  .markdown-source-view::-webkit-scrollbar-track,
  .markdown-preview-view::-webkit-scrollbar-track,
  .cm-scroller::-webkit-scrollbar-track {
    background: var(--background-secondary);
    border: 1px solid var(--text-muted);
  }
}

/* Reduced motion - no hover transitions */
@media (prefers-reduced-motion: reduce) {
  .workspace-leaf-content::-webkit-scrollbar-thumb,
  .markdown-source-view::-webkit-scrollbar-thumb,
  .markdown-preview-view::-webkit-scrollbar-thumb,
  .cm-scroller::-webkit-scrollbar-thumb {
    transition: none !important;
  }
}

/* ========================================================================== */
/*                         FIREFOX SUPPORT                                   */
/* ========================================================================== */

/* Firefox - hide scrollbars by default */
* {
  scrollbar-width: none;
}

.workspace-leaf-content,
.markdown-source-view,
.markdown-preview-view,
.cm-scroller {
  scrollbar-width: thin;
  scrollbar-color: transparent transparent;
}

/* Show Firefox scrollbars on hover (limited support) */
@media (min-width: 769px) {
  .workspace-leaf-content:hover,
  .markdown-source-view:hover,
  .markdown-preview-view:hover,
  .cm-scroller:hover {
    scrollbar-color: rgba(var(--text-muted-rgb), 0.2) transparent;
  }
}

/* Mobile Firefox - completely hidden */
@media (max-width: 768px) {
  .workspace-leaf-content,
  .markdown-source-view,
  .markdown-preview-view,
  .cm-scroller {
    scrollbar-width: none !important;
  }
}

/* ========================================================================== */
/*                         PERFORMANCE OPTIMIZATIONS                         */
/* ========================================================================== */

/* Disable scrollbars on low-end devices */
@media (max-width: 480px) and (max-resolution: 150dpi) {
  ::-webkit-scrollbar,
  .workspace-leaf-content::-webkit-scrollbar,
  .markdown-source-view::-webkit-scrollbar,
  .markdown-preview-view::-webkit-scrollbar,
  .cm-scroller::-webkit-scrollbar {
    display: none !important;
  }

  * {
    scrollbar-width: none !important;
  }
}

/* GPU acceleration for scrollbar animations */
@media (min-width: 769px) {
  .workspace-leaf-content::-webkit-scrollbar-thumb,
  .markdown-source-view::-webkit-scrollbar-thumb,
  .markdown-preview-view::-webkit-scrollbar-thumb,
  .cm-scroller::-webkit-scrollbar-thumb {
    will-change: background-color;
  }

  .workspace-leaf-content:not(:hover)::-webkit-scrollbar-thumb,
  .markdown-source-view:not(:hover)::-webkit-scrollbar-thumb,
  .markdown-preview-view:not(:hover)::-webkit-scrollbar-thumb,
  .cm-scroller:not(:hover)::-webkit-scrollbar-thumb {
    will-change: auto;
  }
}


/* ================================================= */

/* components\status-progress.css */
/* ========================================================================== */
/*                          STATUS BAR & PROGRESS                            */
/* ========================================================================== */

/* Simple Status Bar */
.status-bar {
  background: transparent !important;
  border: none !important;
  transition: opacity 0.2s ease;
}

.status-bar-item {
  padding: 4px 8px;
  border-radius: 6px;
  transition: opacity 0.2s ease;
  cursor: pointer;

  opacity: 0.4;
  background: rgba(var(--bg-secondary-rgb), 0.3);
  color: var(--text-muted);
}

.status-bar-item:hover {
  opacity: 1;
  color: var(--text-normal);
  background: rgba(var(--bg-secondary-rgb), 0.8);
}

/* Status bar deemphasize - make elements even more transparent */
.deemphasize-status-bar .status-bar-item {
  opacity: 0.2;
}

.deemphasize-status-bar .status-bar-item:hover {
  opacity: 0.8;
}

/* Mobile status bar */
@media (max-width: 768px) {
  .status-bar-item {
    padding: 4px 6px;
    font-size: 12px;
    opacity: 0.5;
  }
}


/* ================================================= */

/* components\style-settings.css */
/* ========================================================================== */
/*                              STYLE SETTINGS                               */
/* ========================================================================== */

/* Style Settings Container */
.style-settings-container .themed-color-wrapper {
  display: flex;
  gap: var(--size-4-2);
}

.style-settings-container .themed-color-wrapper>div+div {
  margin-top: 0;
}

.style-settings-container {
  margin-left: var(--size-4-1);
  padding-left: var(--size-4-8);
  border-left: 1px solid var(--divider-color);
}


/* ================================================= */

/* components\titlebar.css */
/* ========================================================================== */
/*                                TITLEBAR                                   */
/* ========================================================================== */

/* Titlebar Button Container */
.titlebar-button-container.mod-right {
  gap: 2px;
}

.titlebar-button-container.mod-right .titlebar-button {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.2s ease;
  background: rgba(var(--text-normal-rgb), 0.15);
  border: 1px solid rgba(var(--text-normal-rgb), 0.1);
  padding: 0px !important;
}

.titlebar-button-container.mod-right .titlebar-button:hover {
  background: rgba(var(--text-normal-rgb), 0.6);
  border-color: rgba(var(--text-normal-rgb), 0.2);
}

/* Close button - make it clearly red and visible */
.titlebar-button-container.mod-right .titlebar-button:last-child {
  background: rgba(255, 59, 48, 0.2);
  border: 1px solid rgba(255, 59, 48, 0.3);
}

.titlebar-button-container.mod-right .titlebar-button:last-child:hover {
  background: rgba(255, 59, 48, 0.4);
  border-color: rgba(255, 59, 48, 0.5);
}

.titlebar-button-container.mod-right .titlebar-button:last-child svg {
  color: #ff3b30 !important;
  filter: brightness(1.2);
}

.titlebar-button-container.mod-right .titlebar-button svg {
  width: 14px;
  height: 14px;
  opacity: 1 !important;
  color: var(--text-normal);
  filter: contrast(1.2);
}

/* Fix general titlebar button padding */
.titlebar-button {
  -webkit-app-region: no-drag;
  display: inline-flex;
  align-items: center;
}

.mod-linux .titlebar-button,
.mod-windows .titlebar-button {
  display: flex;
  align-items: center;
  height: auto !important;
  min-height: 24px;
}


/* ================================================= */

/* components\tooltips-links.css */
/* ========================================================================== */
/*                           TOOLTIPS & LINKS                                */
/* ========================================================================== */

/* Tooltips */
.tooltip {
  backdrop-filter: blur(16px);
  border: 1px solid rgba(var(--text-muted-rgb), 0.2);
  border-radius: 8px;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
  color: var(--fg);
}



/* External Links */
.cm-url,
.cm-string.cm-url.external-link {
  color: var(--link-external-color);
  text-decoration: underline;
  text-decoration-color: rgba(var(--link-external-color-rgb), 0.3);
}

a.external-link {
  color: var(--link-external-color);
  text-decoration: underline;
  text-decoration-color: rgba(var(--link-external-color-rgb), 0.2);
  transition: all 0.15s ease;
  margin: 0 2px;
}

a.external-link:hover {
  color: var(--link-external-color-hover);
  text-decoration-color: rgba(var(--link-external-color-rgb), 0.6);
}

/* Internal Links - NO underline anywhere */
a.internal-link,
.cm-hmd-internal-link,
.cm-hmd-internal-link a,
.HyperMD-header .cm-hmd-internal-link a,
.cm-link,
.cm-link .cm-hmd-internal-link,
.markdown-preview-view .internal-link,
.markdown-source-view .internal-link,
.internal-link {
  text-decoration: none !important;
  transition: all 0.15s ease;
}

a.internal-link:hover,
.cm-hmd-internal-link:hover,
.cm-hmd-internal-link a:hover,
.internal-link:hover {
  color: var(--link-color-hover);
  text-decoration: none !important;
}

a.external-link::after {
  content: '';
  width: 12px;
  height: 12px;
  margin-left: 4px;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2'%3E%3Cpath d='M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6'/%3E%3Cpolyline points='15,3 21,3 21,9'/%3E%3Cline x1='10' y1='14' x2='21' y2='3'/%3E%3C/svg%3E");
  background-size: contain;
  display: inline-block;
  vertical-align: text-top;
  filter: var(--link-external-filter);
  opacity: 0.7;
  transition: opacity 0.15s ease;
}

a.external-link:hover::after {
  opacity: 1;
}

/* Notices */
.notice {
  border-radius: 12px;
  backdrop-filter: blur(16px);
  background: rgba(var(--bg-secondary-rgb), 0.95);
  border: 1px solid rgba(var(--text-muted-rgb), 0.2);
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

/* Additional notice style */
.notice {
  background-color: var(--bg_dark);
  border: 2px solid var(--bg_highlight);
}

/* Tree Item Flair */
.tree-item-flair:not(.tag-pane-tag-count) {
  display: none;
}

/* Prompt Instructions */
.prompt-instructions {
  display: none;
}

/* Suggestion Items */
.suggestion-item.is-selected {
  color: var(--accent-color);
  border-radius: 8px;
  
}
.suggestion-item.is-selected:hover {
  color: var(--accent-color);
  border-radius: 8px;
}


/* ================================================= */

/* components\workspace.css */
/*
 * ╭─────────────────────────────────────────────────────────╮
 * │            Workspace Tabs (Tab Bar, Headers)            │
 * ╰─────────────────────────────────────────────────────────╯
*/

/* Hide tab bar dynamically if only one tab */
.hide-tab-bar-dynamic
  .mod-root
  .workspace-tabs:not(.mod-stacked)
  .workspace-tab-header-container {
  opacity: 1;
  overflow: hidden;
  transition: opacity 0.2s ease;
  width: auto;
  min-width: var(--tab-min-width);
}

.hide-tab-bar-dynamic
  .mod-root
  .workspace-tabs:not(.mod-stacked)
  .workspace-tab-header-container:only-child {
  max-height: 0;
  opacity: 0;
}

/* Always hide tab bar */
.hide-tab-bar-always .mod-root .workspace-tabs .workspace-tab-header-container {
  display: none;
}



/* Show navigation buttons in view header */
.view-header-nav-buttons {
  display: flex;
  gap: 4px;
  align-items: center;
}

/* Simple navigation button styling */
.view-header-nav-buttons .clickable-icon {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background-color 0.15s ease;
}

.view-header-nav-buttons .clickable-icon:hover {
  background-color: var(--background-modifier-hover);
}

.view-header-nav-buttons .clickable-icon svg {
  width: 16px;
  height: 16px;
}

.view-header-nav-buttons .clickable-icon:hover svg {
  opacity: 1;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │               Titlebar Draggability Fixes               │
 * ╰─────────────────────────────────────────────────────────╯
*/
.view-header-title-container {
  -webkit-app-region: drag;
  border-radius: 8px;
  transition: background-color 0.15s ease;
}


.view-header-title-container div {
  -webkit-app-region: no-drag;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │               Stacked Tabs Background Fix               │
 * ╰─────────────────────────────────────────────────────────╯
*/
.mod-stacked
  .workspace-tab-container
  > div:not(:nth-of-type(1)):not(:nth-of-type(2)) {
  --background-primary: var(--bg-primary);
}

/* ========================================================================== */
/*                               SIDEBARS                                     */
/* ========================================================================== */

/* Tab container background */
.workspace-tabs {
  background: var(--tab-container-background);
  border-radius: 8px;
}

.workspace-tab-header-container {
  background: var(--tab-container-background);
  border-radius: 8px 8px 0 0;
  border-bottom: 1px solid rgba(40, 40, 40, 0.2);
}

/* Individual tab styling */
.workspace-tab-header {
  background: var(--tab-background);
  border-radius: 8px 8px 0 0;
  transition: all 0.2s ease;
  border: none;
  margin: 2px;
}

.workspace-tab-header:hover:not(.is-active) {
  background: var(--tab-background-hover);
}

.workspace-tab-header.is-active {
  background: var(--tab-background-active);
}

/* Titlebar styling */
.titlebar {
  background: var(--titlebar-background);
  border-bottom: 1px solid rgba(40, 40, 40, 0.3);
}



/* Workspace background */
.workspace {
  background: var(--workspace-background-translucent);
}

/* Workspace split and additional elements */
.workspace-tabs .workspace-leaf {
  background: var(--workspace-background-translucent);
}

.workspace-leaf-resize-handle {
  background: var(--workspace-background-translucent);
}

.workspace-ribbon {
  background: none !important;
}


/* Sidebar Toggle Buttons - Always show by default */
.sidebar-toggle-button.mod-right,
.sidebar-toggle-button.mod-left {
  display: flex;
  opacity: 0.7;
  transition: opacity 0.15s ease;
}

.sidebar-toggle-button.mod-right:hover,
.sidebar-toggle-button.mod-left:hover {
  opacity: 1;
}

/* Vault Actions - Always show by default */
.workspace-sidedock-vault-profile .workspace-drawer-vault-actions {
  display: flex !important;
  opacity: 0.7;
  transition: opacity 0.15s ease;
}

.workspace-sidedock-vault-profile:hover .workspace-drawer-vault-actions {
  opacity: 1;
}

/* Navigation Headers - Always show by default */
.workspace-split .workspace-leaf-content[data-type="tag"] .nav-header,
.workspace-split .workspace-leaf-content[data-type="outgoing-link"] .nav-header,
.workspace-split .workspace-leaf-content[data-type="backlink"] .nav-header,
.workspace-split .workspace-leaf-content[data-type="outline"] .nav-header {
  padding: var(--size-4-1) 0;
  opacity: 1;
  height: auto;
  transition: opacity 0.2s ease, padding 0.2s ease;
}

.workspace-leaf-content[data-type="file-explorer"]:hover .nav-header {
  opacity: 1;
}

/* Tab Headers - Always show but with subtle styling */
.workspace-tab-header-container
  .workspace-tab-header-container-inner
  [data-type="localgraph"] {
  opacity: 0.8;
  transition: opacity 0.2s ease;
}

.workspace-tab-header-container:hover
  .workspace-tab-header-container-inner
  [data-type="localgraph"] {
  opacity: 1;
}

/* ========================================================================== */
/*                           MATERIAL DESIGN 3                               */
/* ========================================================================== */

/* Enhanced workspace styling with Material Design 3 principles */
.workspace-leaf {
  border-radius: 12px;
  overflow: hidden;
}

.workspace .mod-root .workspace-tab-header {
  /* Простая гибкая система */
  min-width: var(--tab-min-width);  /* Минимум 80px */
  max-width: var(--tab-max-width);  /* Максимум 200px */
  position: relative;
  overflow: hidden;
}

/* ========================================================================== */
/*                            TITLE CONTAINER                                */
/* ========================================================================== */

/* Draggable title container */
.view-header-title-container {
  -webkit-app-region: drag;
  border-radius: 8px;
  transition: background-color 0.15s ease;
}


.view-header-title-container div {
  -webkit-app-region: no-drag;
}

/* ========================================================================== */
/*                          MOBILE OPTIMIZATIONS                             */
/* ========================================================================== */

/* Mobile workspace adjustments */
@media (max-width: 768px) {
  .workspace-leaf {
    border-radius: 8px;
  }

  .workspace-tab-header {
    border-radius: 6px 6px 0 0;
  }



  /* Mobile sidebar optimizations */
  .sidebar-toggle-button.mod-right,
  .sidebar-toggle-button.mod-left {
    min-width: 44px;
    min-height: 44px;
  }

  /* Faster transitions on mobile */
  .workspace-tab-header-container,
  .view-header-title-container,
  .sidebar-toggle-button.mod-right,
  .sidebar-toggle-button.mod-left {
    transition-duration: 0.1s;
  }
}

/* Tablet optimizations */
@media (min-width: 769px) and (max-width: 1024px) {
  .workspace-leaf {
    border-radius: 10px;
  }

  .workspace-tab-header {
    border-radius: 7px 7px 0 0;
  }

}

/* ========================================================================== */
/*                         ACCESSIBILITY SUPPORT                             */
/* ========================================================================== */

/* High contrast mode */
@media (prefers-contrast: high) {
  .workspace-tab-header,
  .workspace-leaf {
    border: 1px solid var(--background-modifier-border);
  }

  .view-header-nav-buttons .clickable-icon {
    border: 1px solid var(--background-modifier-border);
  }

  .sidebar-toggle-button.mod-right,
  .sidebar-toggle-button.mod-left {
    border: 1px solid var(--background-modifier-border);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .workspace-tab-header-container,
  .view-header-title-container,
  .sidebar-toggle-button.mod-right,
  .sidebar-toggle-button.mod-left,
  .workspace-sidedock-vault-profile .workspace-drawer-vault-actions,
  .view-header-nav-buttons .clickable-icon {
    transition: none !important;
  }

}

/* ========================================================================== */
/*                        PERFORMANCE OPTIMIZATIONS                          */
/* ========================================================================== */

/* Remove complex effects on low-end devices */
@media (max-width: 480px) and (max-resolution: 150dpi) {


  .workspace-leaf {
    border-radius: 6px;
  }

  .workspace-tab-header {
    border-radius: 4px 4px 0 0;
  }

  /* Disable transitions on low-end devices */
  .workspace-tab-header-container,
  .view-header-title-container,
  .sidebar-toggle-button.mod-right,
  .sidebar-toggle-button.mod-left,
  .view-header-nav-buttons .clickable-icon {
    transition: none;
  }
}

/* ========================================================================== */
/*                           LAYOUT OPTIMIZATIONS                            */
/* ========================================================================== */

/* Optimize complex selectors */
.workspace-split .workspace-leaf-content[data-type] .nav-header {
  padding: var(--size-4-1) 0;
  opacity: 1;
  height: auto;
  transition: opacity 0.2s ease, padding 0.2s ease;
}

/* Consolidated hover states */
.workspace-leaf-content[data-type]:hover .nav-header {
  opacity: 1;
}

/* Simplified navigation container */
.workspace-tab-header-container .workspace-tab-header-container-inner [data-type] {
  opacity: 0.8;
  transition: opacity 0.2s ease;
}

.workspace-tab-header-container:hover .workspace-tab-header-container-inner [data-type] {
  opacity: 1;
}



/* Workspace leaf content */
.workspace-leaf-content {
  border: 1px solid var(--border-color);
  border-radius: 8px;
}

.workspace-leaf:hover .workspace-leaf-content {
  border-color: var(--border-color-hover);
}

/* Sidebar drawers */
.workspace-drawer {
  border: 1px solid var(--border-color);
}

.workspace-drawer:hover {
  border-color: var(--border-color-hover);
}

/* Status bar */
.status-bar {
  border-top: 1px solid var(--border-color);
}

/* Title bar */
.titlebar {
  border-bottom: 1px solid var(--border-color);
}


/* ========================================================================== */
/*                            NAVIGATION STYLING                             */
/* ========================================================================== */

/* Navigation hover effects */
.nav-file-title:hover,
.nav-folder-title:hover {
  background-color: var(--background-modifier-hover);
  border-left: 2px solid var(--border-color-active);
}

.nav-file.is-active .nav-file-title {
  background-color: var(--background-modifier-active-hover);
  border-left: 3px solid var(--interactive-accent);
}

/* ========================================================================== */
/*                             MODAL STYLING                                 */
/* ========================================================================== */

  .modal {
    background-color: rgba(var(--background-secondary-rgb), 0.95);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    border: 1px solid var(--background-modifier-border);
    border-radius: 8px;
  }

  /* ========================================================================== */
  /*                             MENU STYLING                                  */
  /* ========================================================================== */

  .menu {
    background-color: rgba(var(--background-secondary-rgb), 0.9);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
  }

  .menu-item:hover,
  .suggestion-item:hover {
    background-color: rgba(var(--background-modifier-hover-rgb), 0.95);
    backdrop-filter: blur(5px);
    -webkit-backdrop-filter: blur(5px);
  }

  .suggestion-container {
  background-color: rgba(var(--background-secondary-rgb), 0.9);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  border: 1px solid var(--background-modifier-border);
  border-radius: 6px;
}


body:not(.is-mobile) .workspace-split.mod-left-split .workspace-sidedock-vault-profile {
    background: none !important;
    border: none;
}


/* ================================================= */

/* utilities\animations.css */
/* A simple fade-in animation */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.anim-fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

/* A slide-in animation */
@keyframes slideInUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.anim-slide-in-up {
  animation: slideInUp 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* ========================================================================== */
/*                              ANIMATIONS                                    */
/* ========================================================================== */


/* Blur animations for modals and sidebars */
.modal,
.popover,
.workspace-drawer.mod-left,
.workspace-drawer.mod-right {
  animation: blurIn 0.25s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes blurIn {
  from {
    backdrop-filter: blur(0px);
    opacity: 0;
    transform: scale(0.98);
  }
  to {
    backdrop-filter: blur(16px);
    opacity: 1;
    transform: scale(1);
  }
}



/* Fade in/out animations */
.workspace-leaf-content,
.markdown-preview-view,
.markdown-source-view {
  animation: fadeIn 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Ripple effect for buttons */
.mod-cta,
.button {
  position: relative;
  overflow: hidden;
}

.mod-cta::before,
.button::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  transform: translate(-50%, -50%);
  transition: width 0.3s, height 0.3s;
}

.mod-cta:active::before,
.button:active::before {
  width: 300px;
  height: 300px;
}

/* ========================================================================== */
/*                           MOBILE OPTIMIZATIONS                            */
/* ========================================================================== */

/* Mobile Small (0-480px) - Minimal animations for performance */
@media (max-width: 480px) {
  /* Disable complex animations */
  .modal,
  .popover,
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    animation: none;
    backdrop-filter: none;
    background: var(--background-secondary);
  }

  /* Simplified fade-in */
  .anim-fade-in {
    animation: fadeIn 0.15s ease-out;
  }

  /* Remove slide animations */
  .anim-slide-in-up {
    animation: fadeIn 0.15s ease-out;
  }

  /* Ultra-fast transitions */
  .clickable-icon,
  .nav-file-title,
  .nav-folder-title,
  .tree-item-inner,
  .menu-item,
  .suggestion-item,
  .workspace-tab-header {
    transition: background-color 0.1s ease, color 0.1s ease;
  }

  /* Disable ripple effect on mobile */
  .mod-cta::before,
  .button::before {
    display: none;
  }
  /* Disable transform animations */
  .workspace-leaf-content,
  .markdown-preview-view,
  .markdown-source-view {
    opacity: 1;
  }

  /* Remove hover transforms */
  .clickable-icon:hover,
  .nav-file-title:hover,
  .nav-folder-title:hover {
    transform: none;
  }

  /* Disable complex blur effects */
  .suggestion-container,
  .menu {
    backdrop-filter: none;
    background: var(--background-secondary);
  }

  .tree-item-inner {
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Full ripple effect */
  .mod-cta:active::before,
  .button:active::before {
    width: 300px;
    height: 300px;
  }
}

/* Mobile Large (481-768px) - Balanced performance */
@media (min-width: 481px) and (max-width: 768px) {
  /* Simplified animations */
  .modal,
  .popover,
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    animation: fadeIn 0.2s ease-out;
    backdrop-filter: blur(8px);
  }

  /* Fast transitions */
  .clickable-icon,
  .nav-file-title,
  .nav-folder-title,
  .tree-item-inner,
  .menu-item,
  .suggestion-item,
  .workspace-tab-header {
    transition: all 0.15s ease;
  }

  /* Simplified slide animation */
  .anim-slide-in-up {
    animation: slideInUp 0.2s ease-out;
  }

  /* Reduced ripple effect */
  .mod-cta:active::before,
  .button:active::before {
    width: 200px;
    height: 200px;
  }

  /* Lighter blur effects */
  .suggestion-container,
  .menu {
    backdrop-filter: blur(4px);
  }
}

/* Tablet (769-1024px) - Enhanced animations */
@media (min-width: 769px) and (max-width: 1024px) {
  /* Standard animations */
  .modal,
  .popover,
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    animation: blurIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }

  /* Smooth transitions */
  .clickable-icon,
  .nav-file-title,
  .nav-folder-title,
  .tree-item-inner {
    transition: transform 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Enhanced hover effects - disabled for mobile performance */



  /* Full ripple effect */
  .mod-cta:active::before,
  .button:active::before {
    width: 300px;
    height: 300px;
  }
}

/* Desktop (1025px+) - Full animations */
@media (min-width: 1025px) {
  /* Full animation suite */
  .modal,
  .popover,
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    animation: blurIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
  }



  /* Advanced animations */
  .workspace-leaf:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  }

  /* Full ripple effect */
  .mod-cta:active::before,
  .button:active::before {
    width: 400px;
    height: 400px;
  }
}

/* ========================================================================== */
/*                         PERFORMANCE OPTIMIZATIONS                         */
/* ========================================================================== */


/* Optimize will-change for animations - DISABLED on mobile to prevent auto-scroll */
@media (min-width: 1025px) {
  .modal,
  .popover,
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    will-change: transform, opacity;
  }

  .clickable-icon:hover,
  .nav-file-title:hover,
  .nav-folder-title:hover {
    will-change: transform;
  }
}

/* ========================================================================== */
/*                         ACCESSIBILITY IMPROVEMENTS                        */
/* ========================================================================== */

/* High contrast mode - remove decorative animations */
@media (prefers-contrast: high) {
  .modal,
  .popover,
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    backdrop-filter: none;
    background: var(--background-secondary);
    border: 2px solid var(--text-muted);
  }

  .mod-cta::before,
  .button::before {
    display: none;
  }
}

/* ========================================================================== */
/*                            BATTERY OPTIMIZATION                           */
/* ========================================================================== */

/* Reduce animations on low battery */
@media (max-width: 768px) {
  /* Disable animations on low-resolution displays (often indicates low-end devices) */
  @media (max-resolution: 150dpi) {

    .modal,
    .popover,
    .workspace-drawer.mod-left,
    .workspace-drawer.mod-right {
      backdrop-filter: none;
    }

    .mod-cta::before,
    .button::before {
      display: none;
    }
  }
}

/* ========================================================================== */
/*                            CUSTOM ANIMATIONS                              */
/* ========================================================================== */

/* Smooth zoom-in for important elements */
@keyframes zoomIn {
  from {
    transform: scale(0.95);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

.anim-zoom-in {
  animation: zoomIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

/* Gentle bounce for notifications */
@keyframes gentleBounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-4px);
  }
  60% {
    transform: translateY(-2px);
  }
}

.anim-bounce {
  animation: gentleBounce 0.6s;
}

/* Pulse animation for loading states */
@keyframes pulse {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.5;
  }
  100% {
    opacity: 1;
  }
}

.anim-pulse {
  animation: pulse 1.5s infinite;
}

/* Mobile-specific animations */
@media (max-width: 768px) {
  /* Simplified zoom-in */
  .anim-zoom-in {
    animation: fadeIn 0.2s ease-out;
  }

  /* Disable bounce on mobile */
  .anim-bounce {
    animation: none;
  }

  /* Faster pulse */
  .anim-pulse {
    animation: pulse 1s infinite;
  }
}

/* ========================================================================== */
/*                           INTERACTION FEEDBACK                            */
/* ========================================================================== */

/* Touch feedback for mobile */
@media (max-width: 768px) {
  .clickable-icon:active,
  .nav-file-title:active,
  .nav-folder-title:active,
  .menu-item:active,
  .suggestion-item:active,
  .workspace-tab-header:active {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.5);
    transition: background-color 0.05s ease;
  }

  /* Visual feedback for buttons */
  .mod-cta:active {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.9);
    transition: background-color 0.05s ease;
  }
}

/* Desktop hover feedback */
@media (min-width: 1025px) {
  /* Smooth button hover */
  .mod-cta:hover {
    background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 1.1);
    box-shadow: 0 4px 12px hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
  }
}


/* ========================================================================== */
/*                           LOADING STATES                                  */
/* ========================================================================== */

/* Skeleton loading animation */
@keyframes skeletonLoading {
  0% {
    background-position: -200px 0;
  }
  100% {
    background-position: calc(200px + 100%) 0;
  }
}

.skeleton-loading {
  background: linear-gradient(
    90deg,
    var(--background-secondary) 25%,
    rgba(var(--text-muted-rgb), 0.1) 50%,
    var(--background-secondary) 75%
  );
  background-size: 200px 100%;
  animation: skeletonLoading 1.5s infinite;
}

/* Mobile skeleton optimization */
@media (max-width: 768px) {
  .skeleton-loading {
    animation: skeletonLoading 1s infinite;
    background-size: 150px 100%;
  }
}


/* ================================================= */

/* utilities\images.css */
/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Image align                       │
 * ╰─────────────────────────────────────────────────────────╯
*/
.image-center .image-embed {
  display: flex !important;
  justify-content: center;
}

.image-left .image-embed {
  display: flex !important;
  justify-content: start;
}

.image-right .image-embed {
  display: flex !important;
  justify-content: end;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                      Image filters                      │
 * ╰─────────────────────────────────────────────────────────╯
*/
.image-invert img,
.image-grayscale img,
.image-sepia img,
.image-blur-sm img,
.image-blur-md img,
.image-blur-lg img,
.image-blur-xl img {
  transition: filter 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  filter: grayscale(var(--grayscale, 0)) sepia(var(--sepia, 0))
    invert(var(--invert, 0)) blur(var(--blur, 0));
}

.image-invert img:hover,
.image-grayscale img:hover,
.image-sepia img:hover,
.image-blur-sm img:hover,
.image-blur-md img:hover,
.image-blur-lg img:hover,
.image-blur-xl img:hover {
  filter: grayscale(var(--grayscale, 0)) sepia(var(--sepia, 0))
    invert(var(--invert, 0)) blur(0);
}

.image-invert img {
  --invert: 1;
}

.image-grayscale img {
  --grayscale: 1;
}

.image-sepia img {
  --sepia: 1;
}

.image-blur-sm img {
  --blur: 8px;
}

.image-blur-md img {
  --blur: 16px;
}

.image-blur-lg img {
  --blur: 24px;
}

.image-blur-xl img {
  --blur: 32px;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │       Make images square (remove rounded corners)       │
 * ╰─────────────────────────────────────────────────────────╯
*/
.image-square img {
  border-radius: 0;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                  Scale images on hover                  │
 * ╰─────────────────────────────────────────────────────────╯
*/
.workspace-leaf-content[data-mode="preview"] .image-hover-scale-xs img,
.workspace-leaf-content[data-mode="source"] .image-hover-scale-xs .image-embed,
.workspace-leaf-content[data-mode="preview"] .image-hover-scale-sm img,
.workspace-leaf-content[data-mode="source"] .image-hover-scale-sm .image-embed,
.workspace-leaf-content[data-mode="preview"] .image-hover-scale-md img,
.workspace-leaf-content[data-mode="source"] .image-hover-scale-md .image-embed,
.workspace-leaf-content[data-mode="preview"] .image-hover-scale-lg img,
.workspace-leaf-content[data-mode="source"] .image-hover-scale-lg .image-embed,
.workspace-leaf-content[data-mode="preview"] .image-hover-scale-xl img,
.workspace-leaf-content[data-mode="source"] .image-hover-scale-xl .image-embed {
  transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.workspace-leaf-content[data-mode="preview"] .image-hover-scale-xs img:hover,
.workspace-leaf-content[data-mode="source"]
  .image-hover-scale-xs
  .image-embed:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

.workspace-leaf-content[data-mode="preview"] .image-hover-scale-sm img:hover,
.workspace-leaf-content[data-mode="source"]
  .image-hover-scale-sm
  .image-embed:hover {
  transform: scale(1.1);
  box-shadow: 0 12px 48px rgba(0, 0, 0, 0.15);
}

.workspace-leaf-content[data-mode="preview"] .image-hover-scale-md img:hover,
.workspace-leaf-content[data-mode="source"]
  .image-hover-scale-md
  .image-embed:hover {
  transform: scale(1.15);
  box-shadow: 0 16px 64px rgba(0, 0, 0, 0.18);
}

.workspace-leaf-content[data-mode="preview"] .image-hover-scale-lg img:hover,
.workspace-leaf-content[data-mode="source"]
  .image-hover-scale-lg
  .image-embed:hover {
  transform: scale(1.2);
  box-shadow: 0 20px 80px rgba(0, 0, 0, 0.2);
}

.workspace-leaf-content[data-mode="preview"] .image-hover-scale-xl img:hover,
.workspace-leaf-content[data-mode="source"]
  .image-hover-scale-xl
  .image-embed:hover {
  transform: scale(1.25);
  box-shadow: 0 24px 96px rgba(0, 0, 0, 0.25);
}

/* ========================================================================== */
/*                          MOBILE OPTIMIZATIONS                             */
/* ========================================================================== */

/* Disable scale animations on mobile for better performance */
@media (max-width: 768px) {
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-xs img:hover,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-xs .image-embed:hover,
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-sm img:hover,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-sm .image-embed:hover,
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-md img:hover,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-md .image-embed:hover,
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-lg img:hover,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-lg .image-embed:hover,
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-xl img:hover,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-xl .image-embed:hover {
    transform: none;
    box-shadow: none;
  }

  /* Simplify image transitions on mobile */
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-xs img,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-xs .image-embed,
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-sm img,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-sm .image-embed,
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-md img,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-md .image-embed,
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-lg img,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-lg .image-embed,
  .workspace-leaf-content[data-mode="preview"] .image-hover-scale-xl img,
  .workspace-leaf-content[data-mode="source"] .image-hover-scale-xl .image-embed {
    transition: opacity 0.2s ease;
  }

  /* Disable filter animations on mobile */
  .image-invert img,
  .image-grayscale img,
  .image-sepia img,
  .image-blur-sm img,
  .image-blur-md img,
  .image-blur-lg img,
  .image-blur-xl img {
    transition: none;
  }
}

/* ========================================================================== */
/*                              IMAGE CAPTIONS                               */
/* ========================================================================== */

/* Image captions styling */
.minimal-image-captions .image-captions-figure {
  background-color: transparent !important;
}

.minimal-image-captions .image-captions-caption {
  background-color: transparent !important;
  font-size: 0.85em !important;
  text-align: left !important;
  color: var(--text-muted);
  margin-top: 8px;
  font-style: italic;
}


/* ================================================= */

/* utilities\responsive.css */
/* ========================================================================== */
/*                                RESPONSIVE                                  */
/* ========================================================================== */

/* Breakpoints:
 * Mobile (Small): 0-480px
 * Mobile (Large): 481-768px
 * Tablet: 769-1024px
 * Desktop: 1025px+
 */

/* ========================================================================== */
/*                          MOBILE SMALL (0-480px)                           */
/* ========================================================================== */

@media (max-width: 480px) {
  /* Ultra-compact UI for small phones */
  .view-content > .markdown-source-view.mod-cm6 > .cm-editor > .cm-scroller {
    padding: 16px 20px;
  }

  /* Compact tabs */
  .workspace-tab-header {
    height: 32px;
    min-height: 32px;
    font-size: 12px;
    padding: 0 8px;
  }

  /* Compact buttons */
  .mod-cta {
    height: 40px;
    font-size: 13px;
    padding: 0 12px;
    border-radius: 12px;
  }


  /* Compact navigation */
  .nav-file-title,
  .nav-folder-title {
    font-size: 13px;
    padding: 6px 8px;
  }

  /* Compact sidebars */
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    width: 85vw !important;
    max-width: 300px;
  }

  /* Compact modal */
  .modal {
    margin: 16px;
    max-width: calc(100vw - 32px);
    max-height: calc(100vh - 32px);
  }

  /* Compact status bar */
  .status-bar-item {
    padding: 4px 6px;
    font-size: 11px;
  }


  /* Compact checkboxes */
  .checkbox-container input[type="checkbox"] {
    width: 24px;
    height: 16px;
  }

  .checkbox-container input[type="checkbox"]::before {
    width: 12px;
    height: 12px;
  }

  /* Compact suggestions */
  .suggestion-item {
    font-size: 13px;
  }

  /* Compact tooltips */
  .tooltip {
    font-size: 12px;
    padding: 6px 8px;
  }
}

/* ========================================================================== */
/*                          MOBILE LARGE (481-768px)                         */
/* ========================================================================== */

@media (min-width: 481px) and (max-width: 768px) {
  /* Medium mobile adjustments */
  .view-content > .markdown-source-view.mod-cm6 > .cm-editor > .cm-scroller {
    padding: 12px 16px;
  }

  /* Medium tabs */
  .workspace-tab-header {
    height: 36px;
    min-height: 36px;
    font-size: 13px;
    padding: 0 12px;
  }

  /* Medium buttons */
  .mod-cta {
    height: 42px;
    font-size: 14px;
    padding: 0 16px;
  }

  /* Medium sidebars */
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    width: 70vw !important;
    max-width: 350px;
  }

  /* Medium modal */
  .modal {
    margin: 20px;
    max-width: calc(100vw - 40px);
    max-height: calc(100vh - 40px);
  }



}

/* ========================================================================== */
/*                             TABLET (769-1024px)                           */
/* ========================================================================== */

@media (min-width: 769px) and (max-width: 1024px) {
  /* Tablet adjustments */
  .view-content > .markdown-source-view.mod-cm6 > .cm-editor > .cm-scroller {
    padding: 8px 10px;
  }

  /* Tablet tabs */
  .workspace-tab-header {
    height: 38px;
    min-height: 38px;
  }

  /* Tablet sidebars */
  .workspace-drawer.mod-left,
  .workspace-drawer.mod-right {
    width: 300px !important;
  }

  /* Tablet modal */
  .modal {
    margin: 24px;
    max-width: calc(100vw - 48px);
    max-height: calc(100vh - 48px);
  }



  ::-webkit-scrollbar-thumb {
    background: rgba(var(--text-muted-rgb), 0.2);
  }

  ::-webkit-scrollbar-thumb:hover {
    background: rgba(var(--text-muted-rgb), 0.4);
  }
}

/* ========================================================================== */
/*                             DESKTOP (1025px+)                             */
/* ========================================================================== */

@media (min-width: 1025px) {
  /* Desktop optimizations */
  .view-content > .markdown-source-view.mod-cm6 > .cm-editor > .cm-scroller {
    padding: 24px;
  }

  /* Enhanced hover effects for desktop */
  .workspace-leaf:hover {
    transform: none; /* Remove annoying hover lifts */
  }

  /* Desktop scrollbars */
  ::-webkit-scrollbar {
    width: 12px;
    height: 12px;
  }

  .workspace-leaf-content::-webkit-scrollbar {
    width: 8px;
  }

  /* Desktop-specific animations */
  .workspace-leaf {
    transition: opacity 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  }

  /* Desktop navigation */
  .nav-file-title:hover,
  .nav-folder-title:hover {
    transform: none;
  }
}

/* ========================================================================== */
/*                          ORIENTATION SPECIFIC                             */
/* ========================================================================== */

/* Portrait mobile optimizations */
@media (max-width: 768px) and (orientation: portrait) {
  /* Full-width content */
  .workspace-leaf-content {
    border-radius: 0;
  }

  /* Compact navigation */
  .workspace-tabs {
    border-radius: 0;
  }

  /* Edge-to-edge modals */
  .modal {
    border-radius: 16px 16px 0 0;
    margin: 0;
    bottom: 0;
    position: fixed;
  }

  /* Compact status bar */
  .status-bar {
    padding: 4px 8px;
  }


  /* Hide sidebar toggles in portrait */
  .sidebar-toggle-button {
    display: none;
  }
}

/* Landscape mobile optimizations */
@media (max-width: 1024px) and (orientation: landscape) {
  /* Compact height elements */
  .workspace-tab-header {
    height: 32px;
    min-height: 32px;
  }

  /* Compact vertical padding */
  .view-content > .markdown-source-view.mod-cm6 > .cm-editor > .cm-scroller {
    padding-top: 12px;
    padding-bottom: 12px;
  }

  /* Compact modals */
  .modal {
    max-height: 80vh;
  }

  /* Compact headers */
  .view-header {
    height: 36px;
    min-height: 36px;
  }
}


/* ========================================================================== */
/*                                PRINT STYLES                               */
/* ========================================================================== */

@media print {
  /* Clean print layout */
  .theme-light {
    --background-primary: #ffffff;
    --background-secondary: #ffffff;
    --text-normal: #000000;
    --text-muted: #666666;
  }

  /* Hide UI elements ONLY when actually printing */
  .workspace-ribbon,
  .workspace-tab-header-container,
  .view-header,
  .status-bar,
  .sidebar-toggle-button,
  .workspace-drawer {
    display: none !important;
  }

  /* Print-friendly content */
  .workspace-leaf-content {
    background: transparent !important;
    box-shadow: none !important;
    border: none !important;
    margin: 0 !important;
    padding: 0 !important;
  }

  /* Readable typography */
  .markdown-preview-view,
  .markdown-source-view {
    font-size: 12pt;
    line-height: 1.4;
    color: #000000;
  }

  /* Page breaks */
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }

  p {
    page-break-inside: avoid;
  }

  /* Print-friendly links */
  a {
    color: #000000;
    text-decoration: underline;
  }

  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 0.8em;
  }

  /* Print-friendly images */
  img {
    max-width: 100% !important;
    height: auto !important;
  }

  /* Print-friendly tables */
  table {
    border-collapse: collapse;
    border: 1px solid #000000;
  }

  th, td {
    border: 1px solid #000000;
    padding: 6px;
  }
}

/* ========================================================================== */
/*                             LEGACY SUPPORT                                */
/* ========================================================================== */

/* Mobile-specific classes for manual control */
.mobile-only {
  display: none;
}

.desktop-only {
  display: block;
}

@media (max-width: 768px) {
  .mobile-only {
    display: block;
  }

  .desktop-only {
    display: none;
  }

  /* Mobile-specific suggestion styling */
  .suggestion-item.is-selected {
    color: var(--text-normal);
  }

  /* Mobile-specific blockquote styling */
  .theme-light blockquote {
    background-color: rgba(var(--background-secondary-rgb), 0.5);
    border-left: 3px solid var(--accent-color);
  }

  /* Mobile-specific code styling */
  .theme-light code {
    background: rgba(var(--background-modifier-border-rgb), 0.3);
  }

  /* Mobile-specific table styling */
  .theme-light table thead tr {
    background: rgba(var(--background-secondary-rgb), 0.8);
  }
}

/* Container queries support (future-proofing) */
@supports (container-type: inline-size) {
  .workspace-leaf {
    container-type: inline-size;
  }

  @container (max-width: 400px) {
    .workspace-leaf .workspace-tab-header {
      height: 30px;
      font-size: 11px;
    }
  }
}


/* ================================================= */

/* utilities\typography.css */
/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                     Monospace font                      │
 * ╰─────────────────────────────────────────────────────────╯
*/
.font-monospace,
.font-monospace * {
  font-family: var(--font-family-monospace) !important;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                      Font weights                       │
 * ╰─────────────────────────────────────────────────────────╯
*/
.font-thin {
  font-weight: 100;
}

.font-light {
  font-weight: 300;
}

.font-normal {
  font-weight: 400;
}

.font-medium {
  font-weight: 500;
}

.font-semibold {
  font-weight: 600;
}

.font-bold {
  font-weight: 700;
}

.font-black {
  font-weight: 900;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Text cases                        │
 * ╰─────────────────────────────────────────────────────────╯
*/
.text-uppercase {
  text-transform: uppercase;
}

.text-lowercase {
  text-transform: lowercase;
}

.text-capitalize {
  text-transform: capitalize;
}

.text-normal-case {
  text-transform: none;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Text align                        │
 * ╰─────────────────────────────────────────────────────────╯
*/
.text-left {
  text-align: start;
}

.text-center {
  text-align: center;
}

.text-right {
  text-align: end;
}

.text-justify {
  text-align: justify;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Text color                        │
 * ╰─────────────────────────────────────────────────────────╯
*/
.text-accent {
  color: var(--accent-color);
}

.text-muted {
  color: var(--text-muted);
}

.text-error {
  color: var(--text-error);
}

.text-success {
  color: var(--text-success);
}

.text-warning {
  color: var(--text-warning);
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Text size                          │
 * ╰─────────────────────────────────────────────────────────╯
*/
/* .text-xs {
  font-size: 0.75em;
}

.text-sm {
  font-size: 0.875em;
}

.text-base {
  font-size: 1em;
}

.text-lg {
  font-size: 1.125em;
}

.text-xl {
  font-size: 1.25em;
}

.text-2xl {
  font-size: 1.5em;
} */

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Line height                        │
 * ╰─────────────────────────────────────────────────────────╯
*/
.leading-tight {
  line-height: 1.25;
}

.leading-normal {
  line-height: 1.5;
}

.leading-relaxed {
  line-height: 1.625;
}

.leading-loose {
  line-height: 2;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Letter spacing                      │
 * ╰─────────────────────────────────────────────────────────╯
*/
.tracking-tight {
  letter-spacing: -0.025em;
}

.tracking-normal {
  letter-spacing: 0;
}

.tracking-wide {
  letter-spacing: 0.025em;
}

.tracking-wider {
  letter-spacing: 0.05em;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Text decoration                   │
 * ╰─────────────────────────────────────────────────────────╯
*/
.no-underline {
  text-decoration: none;
}

.underline {
  text-decoration: underline;
}

.line-through {
  text-decoration: line-through;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Typography improvements                      │
 * ╰─────────────────────────────────────────────────────────╯
*/
h1, h2, h3, h4, h5, h6 {
  font-weight: 600;
  line-height: 1.3;
  letter-spacing: -0.01em;
}

p {
  line-height: var(--line-height-theme);
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Code typography                      │
 * ╰─────────────────────────────────────────────────────────╯
*/
code,
.cm-inline-code {
  font-family: var(--font-family-monospace);
  font-size: 0.9em;
  font-weight: 500;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                       Link improvements                      │
 * ╰─────────────────────────────────────────────────────────╯
*/
a {
  transition: color 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

a:hover {
  color: var(--link-color-hover);
}

/* ========================================================================== */
/*                    MOBILE FONT SIZE CONSISTENCY FIX                       */
/* ========================================================================== */



/* ========================================================================== */
/*                         ACCESSIBILITY IMPROVEMENTS                        */
/* ========================================================================== */

/* High contrast mode */
@media (prefers-contrast: high) {
  h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
  }

  p, li {
    font-weight: 500;
  }

  code {
    font-weight: 600;
    border: 1px solid var(--text-muted);
  }
}

/* Reduced motion - disable text animations */
@media (prefers-reduced-motion: reduce) {
  * {
    text-decoration-style: solid !important;
    text-decoration-skip-ink: none !important;
  }
}

/* ========================================================================== */
/*                            READING OPTIMIZATIONS                          */
/* ========================================================================== */

/* Optimize text for reading */
.markdown-preview-view,
.markdown-source-view {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Better text selection */
::selection {
  background: var(--text-selection);
}

/* Additional selection styles for different contexts */
.markdown-preview-view ::selection,
.markdown-source-view ::selection,
.cm-editor ::selection {
  background: rgba(var(--magenta_x), 0.5);
  color: var(--text-normal);
}

/* Prevent text overflow */
.markdown-preview-view p,
.markdown-preview-view li,
.markdown-preview-view blockquote {
  word-wrap: break-word;
  overflow-wrap: break-word;
  hyphens: auto;
}

/* ========================================================================== */
/*                            PERFORMANCE OPTIMIZATIONS                      */
/* ========================================================================== */

/* Optimize font loading */
@media (max-width: 768px) {
  /* Use system fonts for better performance on mobile */
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
  }

  /* Simplify font features */
  h1, h2, h3, h4, h5, h6 {
    font-feature-settings: normal;
    font-variant-ligatures: none;
  }

  /* Reduce font weights on mobile */
  .font-thin {
    font-weight: 300;
  }

  .font-light {
    font-weight: 400;
  }

  .font-black {
    font-weight: 700;
  }
}

/* ========================================================================== */
/*                            PRINT OPTIMIZATIONS                            */
/* ========================================================================== */

@media print {
  /* Optimize typography for print */
  body {
    font-size: 12pt;
    line-height: 1.4;
    color: #000000;
  }

  h1 {
    font-size: 18pt;
    page-break-after: avoid;
  }

  h2 {
    font-size: 16pt;
    page-break-after: avoid;
  }

  h3 {
    font-size: 14pt;
    page-break-after: avoid;
  }

  h4, h5, h6 {
    font-size: 12pt;
    page-break-after: avoid;
  }

  p {
    font-size: 12pt;
    line-height: 1.4;
    orphans: 3;
    widows: 3;
  }

  /* Ensure code is readable in print */
  code {
    font-size: 10pt;
    background: #f5f5f5;
    padding: 2px 4px;
    border: 1px solid #ddd;
  }

  pre code {
    font-size: 9pt;
    line-height: 1.3;
  }

  /* Print-friendly quotes */
  blockquote {
    font-size: 11pt;
    font-style: italic;
    border-left: 3px solid #000;
    padding-left: 12pt;
    margin: 12pt 0;
  }
}


/* ================================================= */

/* themes\dark.css */
.theme-dark {
  color-scheme: dark;
  --accent-h: 202;
  --accent-s: 100%;
  --accent-l: 75%;

  --bg_dark2_x: 2, 2, 2;
  --bg_dark2: rgb(var(--bg_dark2_x));
  --bg_dark_x: 8, 8, 8;
  --bg_dark: rgb(var(--bg_dark_x));
  --bg_x: 15, 15, 15;
  --bg: rgb(var(--bg_x));
  --bg_highlight_x: 25, 25, 25;
  --bg_highlight: rgb(var(--bg_highlight_x));
  --bg_highlight_dark_x: 18, 18, 18;
  --bg_highlight_dark: rgb(var(--bg_highlight_dark_x));
  --terminal_black_x: 65, 72, 104;
  --terminal_black: rgb(var(--terminal_black_x));
  --fg_x: 220, 220, 220;
  --fg: rgb(var(--fg_x));
  --fg_dark_x: 180, 180, 180;
  --fg_dark: rgb(var(--fg_dark_x));
  --comment_x: 120, 120, 120;
  --comment: rgb(var(--comment_x));
  --code-comment_x: 115, 125, 165;
  --code-comment: rgb(var(--code-comment_x));
  --blue0_x: 61, 89, 161;
  --blue0: rgb(var(--blue0_x));
  --blue_x: 122, 162, 247;
  --blue: rgb(var(--blue_x));
  --cyan_hsl: 202 100% 75%;
  --cyan_x: 125, 207, 255;
  --cyan: rgb(var(--cyan_x));
  --purple_x: 187, 154, 247;
  --purple: rgb(var(--purple_x));
  --magent_hsl: 261 85% 79%;
  --magenta_x: 187, 154, 247;
  --magenta: rgb(var(--magenta_x));
  --magenta-light_x: 210, 190, 255;
  --magenta-light: rgb(var(--magenta-light_x));

  /* Special colors for folder notes - purple mixed with white */
  --folder-note-color_x: 220, 200, 250;
  --folder-note-color: rgb(var(--folder-note-color_x));
  --pink_hsl: 331 100% 43%;
  --pink_x: 217, 0, 105;
  --pink: rgb(var(--pink_x));
  --orange_x: 255, 158, 100;
  --orange: rgb(var(--orange_x));
  --yellow_x: 224, 175, 104;
  --yellow: rgb(var(--yellow_x));
  --green_x: 158, 206, 106;
  --green: rgb(var(--green_x));
  --teal_x: 26, 188, 156;
  --teal: rgb(var(--teal_x));
  --red_x: 255, 117, 127;
  --red: rgb(var(--red_x));
  --red1_x: 219, 75, 75;
  --red1: rgb(var(--red1_x));
  --unknown: #ffffff;

  --link-external-filter: invert(35%) sepia(28%) saturate(681%) hue-rotate(192deg) brightness(94%) contrast(85%);

  --background-primary: #020202;
  --background-secondary: #0a0a0a;
  --text-normal: #d0d0d0;
  --text-muted: #888;

  --tab-background: rgba(2, 2, 2, 0.9);
  --tab-background-active: rgba(25, 25, 25, 0.95);
  --tab-background-hover: rgba(18, 18, 18, 0.8);
  --tab-background-unfocused: rgba(8, 8, 8, 0.7);
  --tab-divider-color: rgba(40, 40, 40, 0.3);
  --tab-outline-color: rgba(60, 60, 60, 0.5);
  --tab-outline-color-active: rgba(80, 80, 80, 0.8);
  --shadow-color: rgba(0, 0, 0, 0.3);
  --workspace-background-translucent: rgba(2, 2, 2, 0.9);
  --titlebar-background: var(--background-primary);
  --titlebar-background-focused: rgba(15, 15, 15, 0.98);
  --titlebar-text-color: #e8e8e8;
  --titlebar-text-color-focused: #ffffff;
  --titlebar-text-color-inactive: #666;

  --bg-primary-rgb: 2, 2, 2;
  --bg-primary: #020202;
  --bg-secondary-rgb: 8, 8, 8;
  --text-on-accent: #ffffff;

  /* Special colors for folder notes */
  --folder-note-color_x: 220, 200, 250;
  --folder-note-color: rgb(var(--folder-note-color_x));
}


:not(.mod-windows).theme-dark {
  --background-primary: transparent;
}


/* ================================================= */

/* themes\light.css */
.theme-light {
  /* --accent-h: 261; /* magenta */
  /* --accent-s: 24%; */
  /* --accent-l: 38%; */
  /* cyan */
  --accent-h: 202;
  --accent-s: 86%;
  --accent-l: 43%;

  --bg_dark2_x: 188, 189, 194;
  --bg_dark2: rgb(var(--bg_dark2_x));
  --bg_dark_x: 203, 204, 209;
  --bg_dark: rgb(var(--bg_dark_x));
  --bg_x: 213, 214, 219;
  --bg: rgb(var(--bg_x));
  --bg_highlight_x: 220, 222, 226;
  --bg_highlight: rgb(var(--bg_highlight_x));
  --bg_highlight_dark_x: 195, 197, 201;
  --bg_highlight_dark: rgb(var(--bg_highlight_dark_x));
  --terminal_black_x: 15, 15, 20;
  --terminal_black: rgb(var(--terminal_black_x));
  --fg_x: 52, 59, 88;
  --fg: rgb(var(--fg_x));
  --fg_dark_x: 39, 46, 75;
  --fg_dark: rgb(var(--fg_dark_x));
  --comment_x: 150, 153, 163;
  --comment: rgb(var(--comment_x));
  --code-comment_x: 130, 135, 145;
  --code-comment: rgb(var(--code-comment_x));
  --blue0_x: 39, 71, 125;
  --blue0: rgb(var(--blue0_x));
  --blue_x: 52, 84, 138;
  --blue: rgb(var(--blue_x));
  --cyan_x: 15, 75, 110;
  --cyan: rgb(var(--cyan_x));
  --purple_x: 187, 154, 247;
  --purple: rgb(var(--purple_x));
  --magent_hsl: 261 24% 38%;
  --magenta_x: 90, 74, 120;
  --magenta: rgb(var(--magenta_x));
  --magenta-light_x: 140, 110, 180;
  --magenta-light: rgb(var(--magenta-light_x));
  --pink_hsl: 286 24% 38%;
  --pink_x: 109, 74, 120;
  --pink: rgb(var(--pink_x));
  --orange_x: 150, 80, 39;
  --orange: rgb(var(--orange_x));
  --yellow_x: 143, 94, 21;
  --yellow: rgb(var(--yellow_x));
  --green_x: 51, 99, 92;
  --green: rgb(var(--green_x));
  --teal_x: 22, 103, 117;
  --teal: rgb(var(--teal_x));
  --red_x: 140, 67, 81;
  --red: rgb(var(--red_x));
  --red1_x: 115, 42, 56;
  --red1: rgb(var(--red1_x));
  --unknown: #000000;

  --link-external-filter: invert(62%) sepia(9%) saturate(266%) hue-rotate(189deg) brightness(97%) contrast(88%);

  --background-primary: #f7f7f7;
  --background-secondary: #fcfcfc;
  --text-normal: #1a1a1a;
  --text-muted: #b5b3b1;

  /* File explorer dark text fix for light theme */
  --nav-item-color: #2c2c2c;
  --nav-item-color-hover: #1a1a1a;
}

/* File explorer styling for light theme */
.theme-light .nav-file-title,
.theme-light .nav-folder-title {
  color: #2c2c2c !important;
}

.theme-light .nav-file-title:hover,
.theme-light .nav-folder-title:hover {
  color: #1a1a1a !important;
  background: rgba(15, 75, 110, 0.1);
}

.theme-light .nav-file-title.is-active {
  color: #ffffff !important;
  background: var(--cyan);
}


/* ================================================= */

/* settings.css */
/* @settings

name: Robsi Appearance
id: Appearance
settings:
  -
    id: colors
    title: Colors
    type: heading
    level: 1
    collapsed: true
  -
    id: accent
    title: Accent Color
    type: variable-themed-color
    format: hsl-split
    opacity: false
    default-light: '#0F87CC'
    default-dark: '#80D0FF'
  -
    id: Extended-colors
    title: Extended Colors
    type: heading
    level: 2
    collapsed: true
  -
    id: red
    title: Red
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(115, 42, 56)'
    default-dark: 'rgb(219, 75, 75)'
  -
    id: red1
    title: Red1
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(140, 67, 81)'
    default-dark: 'rgb(255, 117, 127)'
  -
    id: green
    title: Green
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(51, 99, 92)'
    default-dark: 'rgb(158, 206, 106)'
  -
    id: cyan
    title: Cyan
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(15, 75, 110)'
    default-dark: 'rgb(125, 207, 255)'
  -
    id: blue
    title: Blue
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(52, 84, 138)'
    default-dark: 'rgb(122, 162, 247)'
  -
    id: yellow
    title: Yellow
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(143, 94, 21)'
    default-dark: 'rgb(224, 175, 104)'
  -
    id: orange
    title: Orange
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(150, 80, 39)'
    default-dark: 'rgb(255, 158, 100)'
  -
    id: magenta
    title: Magenta
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(90, 74, 120)'
    default-dark: 'rgb(187, 154, 247)'
  -
    id: pink
    title: Pink
    type: variable-themed-color
    format: rgb
    opacity: false
    default-light: 'rgb(109, 74, 120)'
    default-dark: 'rgb(217, 0, 105)'
  -
    id: lists-heading
    title: Lists
    type: heading
    level: 2
    collapsed: true
  -
    id: list-indent
    title: List Indent
    description: Indentation for nested list items
    type: variable-text
    default: 1.5em
  -
    id: list-spacing
    title: List Spacing
    description: Vertical spacing between list items
    type: variable-text
    default: 0.125em
  -
    id: unordered-lists-heading
    title: Unordered Lists (Bullets)
    type: heading
    level: 3
    collapsed: true
  -
		id: list-marker-color
		title: Bullet Color
		description: Color for list bullet markers
		type: variable-themed-color
		format: rgb
		opacity: false
		default-light: 'rgb(90, 74, 120)'
		default-dark: 'rgb(187, 154, 247)'
  -
		id: list-marker-color-hover
		title: Bullet Hover Color
		description: Color when hovering over list bullets
		type: variable-themed-color
		format: rgb
		opacity: false
		default-light: 'rgb(15, 75, 110)'
		default-dark: 'rgb(125, 207, 255)'
  -
		id: list-marker-color-collapsed
		title: Bullet Collapsed Color
		description: Color for collapsed list bullets
		type: variable-themed-color
		format: rgb
		opacity: false
		default-light: 'rgb(150, 153, 163)'
		default-dark: 'rgb(86, 95, 137)'
  -
    id: ordered-lists-heading
    title: Ordered Lists (Numbers)
    type: heading
    level: 3
    collapsed: true
  -
		id: list-number-color
		title: Number Color
		description: Color for ordered list numbers
		type: variable-themed-color
		format: rgb
		opacity: false
		default-light: 'rgb(90, 74, 120)'
		default-dark: 'rgb(187, 154, 247)'
  -
		id: list-number-color-hover
		title: Number Hover Color
		description: Color when hovering over list numbers
		type: variable-themed-color
		format: rgb
		opacity: false
		default-light: 'rgb(15, 75, 110)'
		default-dark: 'rgb(125, 207, 255)'

*/

/* @settings

name: Meridian
id: mvahaste-meridian
settings:

  -
    id: background-opacity
    title: Background Opacity
    description: The opacity of the background mask (black in dark mode, white in light mode).
    type: variable-number-slider
    default: 0.5
    step: 0.01
    min: 0
    max: 1

  -
    id: minimal-image-captions
    title: Minimal Image Captions
    description: Use a minimal image caption style (preview mode).
    type: class-toggle
    default: true

  -
    id: show-header-levels
    title: Show Header Levels
    description: Show header levels instead of collapse indicators in the editor (preview mode).
    type: class-select
    allowEmpty: false
    default: show-header-levels-hover
    options:
      -
        label: Always
        value: show-header-levels-always
      -
        label: Hover
        value: show-header-levels-hover

  -
    id: show-header-hashtags
    title: Show Header Hashtags
    description: Show hashtags before headers in the editor (preview mode).
    type: class-toggle
    default: false

  -
    id: hide-header-link-underline
    title: Hide Header Link Underline
    description: Hide the underline on header links in the editor (preview mode).
    type: class-toggle
    default: true

  -
    id: hide-tab-bar
    title: Hide Tab Bar
    description: Hide the tab bar dynamically, always, or never.
    type: class-select
    allowEmpty: false
    default: hide-tab-bar-dynamic
    options:
      -
        label: Dynamic
        value: hide-tab-bar-dynamic
      -
        label: Always
        value: hide-tab-bar-always
      -
        label: Never
        value: hide-tab-bar-never

  -
    id: deemphasize-status-bar
    title: De-emphasize Status Bar
    description: De-emphasize the status bar (preview mode).
    type: class-toggle
    default: true

  -
    id: deemphasize-file-properties
    title: De-emphasize File Properties
    description: De-emphasize file properties in the editor (preview mode).
    type: class-toggle
    default: true

  -
    id: deemphasize-embedded-backlinks
    title: De-emphasize Embedded Backlinks
    description: De-emphasize embedded backlinks in the editor (preview mode).
    type: class-toggle
    default: true

*/

