body:not(.heading-indicator-off) .markdown-rendered>:is(h1, h2, h3, h4, h5, h6),
body:not(.heading-indicator-off) .markdown-preview-sizer>div>:is(h1, h2, h3, h4, h5, h6) {
    position: relative;
}

body.h1-divider-on :is(.markdown-preview-sizer>div>h1, .markdown-rendered>h1, .HyperMD-header-1)::after {
    content: "";
    position: absolute;
    height: 2px;
    width: 100%;
    right: 0px;
    opacity: 0.5;
    bottom: 0;
    background: linear-gradient(to left, var(--h1-color) 30%, transparent 70%);
}

body.h2-divider-on :is(.markdown-preview-sizer>div>h2, .markdown-rendered>h2, .HyperMD-header-2)::after {
    content: "";
    position: absolute;
    height: 2px;
    width: 100%;
    right: 0px;
    opacity: 0.5;
    bottom: 0;
    background: linear-gradient(to left, var(--h2-color) 30%, transparent 70%);
}

body.h3-divider-on :is(.markdown-preview-sizer>div>h3, .markdown-rendered>h3, .HyperMD-header-3)::after {
    content: "";
    position: absolute;
    height: 2px;
    width: 100%;
    right: 0px;
    opacity: 0.5;
    bottom: 0;
    background: linear-gradient(to left, var(--h3-color) 30%, transparent 70%);
}

body.h4-divider-on :is(.markdown-preview-sizer>div>h4, .markdown-rendered>h4, .HyperMD-header-4)::after {
    content: "";
    position: absolute;
    height: 2px;
    width: 100%;
    right: 0px;
    opacity: 0.5;
    bottom: 0;
    background: linear-gradient(to left, var(--h4-color) 30%, transparent 70%);
}

body.h5-divider-on :is(.markdown-preview-sizer>div>h5, .markdown-rendered>h5, .HyperMD-header-5)::after {
    content: "";
    position: absolute;
    height: 2px;
    width: 100%;
    right: 0px;
    opacity: 0.5;
    bottom: 0;
    background: linear-gradient(to left, var(--h5-color) 30%, transparent 70%);
}

body.h6-divider-on :is(.markdown-preview-sizer>div>h6, .markdown-rendered>h6, .HyperMD-header-6)::after {
    content: "";
    position: absolute;
    height: 2px;
    width: 100%;
    right: 0px;
    opacity: 0.5;
    bottom: 0;
    background: linear-gradient(to left, var(--h6-color) 30%, transparent 70%);
}

/* links */

/* External link styles moved to tooltips-links.css to avoid duplication */

/* Images  */

.image-embed {
    border-radius: var(--image-radius);
}

body {
    --table-width: 88cqw;
}

.theme-dark,
.theme-light .markdown-rendered thead tr {
    background: var(--table-header-background);
}

body:not(.table-width-obsidian-default) .markdown-source-view.mod-cm6 .cm-table-widget .table-wrapper,
body:not(.table-width-obsidian-default) :is(.markdown-rendered, .markdown-source-view.mod-cm6.is-live-preview) table {
    width: 100% !important;
}

.table-width-customized .markdown-source-view.mod-cm6.is-live-preview .cm-content>.cm-table-widget,
.table-width-customized .markdown-rendered table {
    overflow: auto;
    width: var(--table-width) !important;
    margin-left: calc((var(--table-width) - 100%) / -2) !important;
}

/* callouts */
.callout[data-callout="quote"] {
    background-color: var(--blockquote-bg);
}

.callout[data-callout="cite"] {
    --callout-color: var(--pink_x);
    background-color: rgba(var(--pink_x), 0.1);
}

.callout-style-1.theme-light {
    --callout-border-width: 1px;
    --callout-border-opacity: 0.5;
    --callout-padding: 0;
    --callout-radius: var(--radius-m);
    --callout-title-color: inherit;
    --callout-title-padding: 12px 16px;
    --callout-title-size: inherit;
    --callout-content-padding: 0px 16px 12px;
    --callout-content-background: rgba(255, 255, 255, 0.7);
    --callout-content-radius: 0px;
}

.callout-style-1.theme-dark {
    --callout-border-width: 1px;
    --callout-border-opacity: 0.025;
    --callout-padding: 0;
    --callout-radius: var(--radius-s);
    --callout-title-color: inherit;
    --callout-title-padding: 8px 16px;
    --callout-title-size: inherit;
    --callout-content-padding: 0px 16px;
    --callout-content-background: #00000040;
    --callout-content-radius: 0px;
}

.callout-style-2.theme-light {
    --callout-border-width: 1px;
    --callout-border-opacity: 0.5;
    --callout-padding: 0 8px 8px;
    --callout-radius: var(--radius-m);
    --callout-title-color: inherit;
    --callout-title-padding: 12px 16px;
    --callout-title-size: inherit;
    --callout-content-padding: 0px 16px;
    --callout-content-background: rgba(255, 255, 255, 0.7);
    --callout-content-radius: var(--radius-s);
}

.callout-style-2.theme-dark {
    --callout-border-width: 1px;
    --callout-border-opacity: 0.25;
    --callout-padding: 0 6px 6px;
    --callout-radius: var(--radius-s);
    --callout-title-color: inherit;
    --callout-title-padding: 8px 16px;
    --callout-title-size: inherit;
    --callout-content-padding: 0px 16px;
    --callout-content-background: #00000040;
    --callout-content-radius: 4px;
}

.callout-style-3:is(.theme-light, .theme-dark) {
    --callout-border-width: 0 0 0 4px;
    --callout-border-opacity: 1;
    --callout-padding: var(--size-4-3) var(--size-4-3) var(--size-4-3) var(--size-4-6);
    --callout-radius: var(--radius-m);
    --callout-title-color: inherit;
    --callout-title-padding: 0;
    --callout-title-size: inherit;
    --callout-content-padding: 0;
    --callout-content-background: transparent;
    --callout-content-radius: 0px;
}

.callout-style-4.theme-light {
    --callout-border-width: 0 0 0 4px;
    --callout-border-opacity: 1;
    --callout-padding: 0;
    --callout-radius: var(--radius-m);
    --callout-title-color: inherit;
    --callout-title-padding: 12px 16px;
    --callout-title-size: inherit;
    --callout-content-padding: 0px 16px 12px;
    --callout-content-background: rgba(255, 255, 255, 0.7);
    --callout-content-radius: 0px;
}

.callout-style-4.theme-dark {
    --callout-border-width: 0 0 0 4px;
    --callout-border-opacity: 1;
    --callout-padding: 0;
    --callout-radius: var(--radius-s);
    --callout-title-color: inherit;
    --callout-title-padding: 8px 16px;
    --callout-title-size: inherit;
    --callout-content-padding: 0px 16px;
    --callout-content-background: #00000040;
    --callout-content-radius: 0px;
}

.ͼ2 .cm-panels-bottom {
    border-top: var(--border-width) solid var(--bg_highlight);
}

.cm-vim-message {
    color: var(--red);
}

mjx-math {
    font-size: 110% !important;
}

.cm-atom {
    color: var(--blue);
}

span.cm-hmd-frontmatter.cm-meta {
    color: rgba(var(--blue0_x), 0.9);
}

.cm-hmd-frontmatter {
    font-size: var(--font-smaller);
    color: var(--text-faint);
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │               Metadata & Document Display               │
 * ╰─────────────────────────────────────────────────────────╯
*/

.cm-hmd-internal-link,
.cm-hmd-internal-link a,
.HyperMD-header .cm-hmd-internal-link a,
.cm-link,
.cm-link .cm-hmd-internal-link,
.markdown-preview-view .internal-link,
.markdown-source-view .internal-link {
    text-decoration: none;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │       Header Spacing Between Header and Paragraph       │
 * ╰─────────────────────────────────────────────────────────╯
*/
.HyperMD-header-1,
.HyperMD-header-2 {
    padding-bottom: 0.125em;
}

.HyperMD-header-3 {
    padding-bottom: 0.1em;
}

.HyperMD-header-4 {
    padding-bottom: 0.075em;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │                  Show Header Hashtags                   │
 * ╰─────────────────────────────────────────────────────────╯
*/

/* ───────────────────────────────────────────────
   Minimal Image Captions
─────────────────────────────────────────────── */
.minimal-image-captions .image-captions-figure {
    background-color: transparent !important;
}

.minimal-image-captions .image-captions-caption {
    background-color: transparent !important;
    text-align: left !important;
}

/*
 * ╭─────────────────────────────────────────────────────────╮
 * │    Show Header Levels Instead of Collapse Indicators    │
 * ╰─────────────────────────────────────────────────────────╯
*/
.show-header-levels-always .HyperMD-header .cm-fold-indicator .collapse-indicator {
    opacity: 1 !important;
}

.HyperMD-header .cm-fold-indicator .collapse-indicator svg {
    display: none;
}

.HyperMD-header .cm-fold-indicator .collapse-indicator::before {
    font-size: calc(var(--font-text-size) * 0.75);
    font-weight: 600 !important;
    color: var(--text-faint);
    width: max-content;
}

.view-content>.markdown-source-view.mod-cm6>.cm-editor>.cm-scroller {
    padding: 16px;
}

/* Mobile: fixed padding to prevent layout shifts that cause auto-scroll */
@media (max-width: 768px) {
    .view-content>.markdown-source-view.mod-cm6>.cm-editor>.cm-scroller {
        padding: 12px 16px !important;
    }
}

/* ───────────────────────────────────────────────
   Tags styling (multi-select-pill)
─────────────────────────────────────────────── */
.multi-select-pill {
    line-height: normal;
}
